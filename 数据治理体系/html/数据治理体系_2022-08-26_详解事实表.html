<html>
<head>
<title></title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;overflow:hidden;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:13px;padding-bottom:13px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;padding:0 0 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:0px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:#a5a5a5;}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size: 15px;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}#copyright_logo{color:#bdbdbd;}.rich_media_meta_list{margin-bottom:10px;}.reprint{background:#efefef;border-radius:5px;padding:8px;color:#1f1f1f;}.reprint a{word-break:break-all;}.topic{color:#8e8e8e;background:#f7f7f7;border-radius:5px;padding:10px 8px;}.topic a{padding-right:5px;}.topic p{margin-bottom:5px;}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head><script>
var data={"mp":"数据治理体系","title":"详解事实表","time":"2022-08-26 20:48:01","timeStamp":"1661518081"};
</script>
<body>
<div class="rich_media"><h1 class="rich_media_title" id="activity-name"><a href="http://mp.weixin.qq.com/s?__biz=MzA3NjIzNjMwOA==&mid=2247490252&idx=1&sn=08dd73cdc2fa99047dbbec8c515c6cee&chksm=9f6509b7a81280a16f6d3acba6cc0d30221d815cbb97282796a6e1b219e2b1b0df738bdd289a#rd" target="_blank">详解事实表</a></h1><div id="meta_content" class="rich_media_meta_list"><span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);" class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" id="js_name">数据治理体系&nbsp;&nbsp;</a></span><em id="publish_time" class="rich_media_meta rich_media_meta_text">2022-08-26 20:48:01</em></div><content><div class="topic"><p>收录于话题</p><p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=1908216570263158791#wechat_redirect" title="数据治理体系" target="_blank">#数据治理体系</a></p></div><section class="mp_profile_iframe_wrp" data-mpa-powered-by="yiban.io"><mp-common-profile class="js_uneditable custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、数字体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><h1 style="box-sizing: border-box;border-radius: 0px !important;margin: 20px 0px 10px;font-size: 1.89111em;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="font-size: 14px;font-weight: 400;">每个数据仓库都包含一个或者多个事实数据表。其中可能包含业务销售数据，如现金登记事务所产生的数据，通常包含大量的行。事实数据表的主要特点是包含数字数据（事实），并且这些数字信息可以汇总，以提供有关单位作为历史的数据，每个事实数据表包含一个由多个部分组成的索引，该索引包含作为外键的相关性维度表的主键，而维度表包含事实记录的特性。</span></h1><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">01</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">事实表基础<br  /></span></strong></span></p></section></section></section></section><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">事实表特征</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">事实表作为数仓维度建模的核心，紧紧围绕着<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">业务过程</strong></span>来设计，通过获取描述业务过程的度量来表达业务过程，包含了引用的维度和业务过程有关的度量。事实表中一条记录所表达的业务细节程度被称为<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">粒度</strong></span>(业务中的细节程度)。通常粒度可以通过两种方式来表达：一种是维度属性组合所表示的细节程度，另一种是所表示的具体业务含义。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">作为<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">度量业务过程</strong></span>的事实（事实表属性），一般为整型或浮点型的十进制数值，有可加性、半可加性和不可加性三种类型：</p><ul style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: square;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">可加性事实</strong></span><span style="color: rgb(255, 76, 65);">&nbsp;</span>是指可以按照与事实表关联的任意维度进行汇总。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">半可加性事实</strong></span>&nbsp;只能按照特定维度汇总，不能对所有维度汇总，比如库存可以按照地点和商品进行汇总，而按时第门章事实表设计丁一间维度把一年中每个月的库存累 加起来则毫无意义。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">不可加事实</strong></span>&nbsp;不具备可加性，比如比率型事实。对于不可加性事实可分解为可加的组件来实现聚集。</p></li></ul><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">有事实的事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">有事实表分为三种类型 ：&nbsp;<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事务事实表</strong>、<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">周期快照事实表</strong></span>和<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">累积快照事实表</strong></span>。</p><p style="box-sizing: border-box;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;text-align: center;border-radius: 0px !important;margin-top: 0.8em !important;margin-right: 0px !important;margin-bottom: 0em;margin-left: 0px !important;"><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&amp;mid=2649362053&amp;idx=1&amp;sn=8d97b96053505b8535e717386d7e2fa7&amp;chksm=f3903ab9c4e7b3afab0f07a93d18a23c65951661f42400113ce40ac2150df3d0786e221f103c&amp;scene=21#wechat_redirect" textvalue="你已选中了添加链接的内容" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="1"><span class="js_jump_icon h5_image_link" data-positionback="static" style="inset: auto;margin: 0px;"><img class="rich_pages wxw-img" data-ratio="1.087837837837838" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic9VQP5dl39PTFIPPptNeOOfefVCPnGXJUssl4RX2iatnRb0lJGlGeBDcZ0GlvvfvBJaIyOJ2Tso8aw/640?wx_fmt=png" data-type="png" data-w="888" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;max-width: 100%;border-radius: 0px !important;margin: 0px;" title=""></span></a></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">无事实的事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">无事实的事实表可以用来跟踪事件的发生。例如，在给定的某一天中发生的学生参加课程的事件，可能没有可记录的数字化事实，但该事实行带有一个包含日期、学生、教师、地点、课程等定义良好的外键。利用无事实的事实表可以按各种维度计数上课这个事件。</p><p style="box-sizing: border-box;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;text-align: center;border-radius: 0px !important;margin-top: 0.8em !important;margin-right: 0px !important;margin-bottom: 0em;margin-left: 0px !important;"><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&amp;mid=2649387910&amp;idx=1&amp;sn=a9246ece4013e2be0459597338beaf6f&amp;chksm=f39047bac4e7ceac4042638d231618ec685177fb2bca8b5c30bba5ebbc32eac7a468492b0b8c&amp;scene=21#wechat_redirect" textvalue="你已选中了添加链接的内容" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="1"><span class="js_jump_icon h5_image_link" data-positionback="static" style="inset: auto;margin: 0px;"><img class="rich_pages wxw-img" data-ratio="0.49733570159857904" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic9VQP5dl39PTFIPPptNeOOfUS5OqCvTYym6j9y7MbTlFNxLMSy23F8yBfOedlBIz2viaqrQG6NLHNw/640?wx_fmt=png" data-type="png" data-w="1126" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;max-width: 100%;border-radius: 0px !important;margin: 0px;" title=""></span></a></p><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">02</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">事实表设计规则<br  /></span></strong></span></p></section></section></section></section><p><br  /></p><ul style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: square;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;color: rgb(255, 104, 39);"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">尽可能包含所有与业务过程相关的事实；</strong></span></p></li><li style="box-sizing: border-box;border-radius: 0px !important;color: rgb(255, 104, 39);"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">只选择与业务过程相关的事实；</strong></span></p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">分解不可加性事实为可加的组件；</strong></span>比如订单的优惠率，应该分解为订单原价金额与订单优惠金额</p></li><li style="box-sizing: border-box;border-radius: 0px !important;color: rgb(255, 104, 39);"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">在选择维度和事实之前必须先声明粒度；</strong></span></p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">在同一个事实表中不能有多种不同粒度的事实；</strong></span>粒度的声明是事实表设计中不可忽视的重要一步，粒度用于确定事实表中一行所表示业务的细节层次，决定了维度模型的扩展性，在选择维度和事实之前必须先声明粒度，且每个维度和事实必须与所定义的粒度保持一致</p></li><li style="box-sizing: border-box;border-radius: 0px !important;color: rgb(255, 104, 39);"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">在同一个事实表中不能有多种不同粒度的事实；</strong></span></p></li><li style="box-sizing: border-box;border-radius: 0px !important;color: rgb(255, 104, 39);"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事实的单位要保持一致；</strong></span></p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">对事实的 null 值要处理；</strong></span>在数据库中null值对常用的大于或小于等SQL不生效，建议使用零值填充</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">使用退化维度提高事实表的易用性；</strong></span>目的主要是为了减少下游用户使用时关联多个表的操作。直接通过退化维度实现对事实表的过滤查询、控制聚合层次、排序数据以及定义主从关系等</p></li></ul><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">03</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">事实表设计方法<br  /></span></strong></span></p></section></section></section></section><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">Kimball的四步维度建模方法：<strong><span style="color: rgb(255, 104, 39);">选择业务过程、声明粒度、确定维度、确定事实</span></strong>。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">Step 1:选择业务过程及确定事实表类型。</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">在明确了业务需求以后，接下来需要进行详细的需求分析，对业务的整个生命周期进行分析，明确关键的业务步骤，从而选择与需求有关的<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">业务过程</strong>。(业务过程通常使用行为动词表示业务执行的活动)</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">Step 2:声明粒度 。</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">粒度的声明是事实表建模非常重要的一步，意味着精确定义事实表的每一行所表示的业务含义，粒度传递的是与事实表度量有关的细节层次。明确的粒度能确保对事实表中行的意思的理解不会产生混淆，保证所有的事实按照同样的细节层次记录。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">Step 3 :确定维度 。</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">完成粒度声明以后，也就意味着确定了主键，对应的维度组合以及相关的维度字段就可以确定了，应该选择能够描述清楚业务过程所处的环境的维度信息。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">Step 4 : 确定事实 。</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">事实可以通过回答“过程的度量是什么”来确定。应该选择与业务过程有关的所有事实，且事实的粒度要与所声明的事实表的粒度一致。事实有可加性、半可加性、非可加性三种类型 ， 需要将不可加性事实分解为可加的组件。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(0, 82, 255);">Step 5:冗余维度 。</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">冗余维度是在kimball维度建模方法基础上新增的步骤。主要是因为在大数据的事实表模型设计中，需要考虑更多的是提高下游用户的使用效率，降低数据获取的复杂性，减少关联的表数量。所以通常事实表中会冗余方便下游用户使用的常用维度，以实现对事实表的过滤查询、控制聚合层次、排序数据以及定义主从关系等操作。</p><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">04</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">有事实的事实表<br  /></span></strong></span></p></section></section></section></section><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">有事实表分为三种类型 ：<span style="color: rgb(255, 104, 39);">&nbsp;<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事务事实表</strong>、<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">周期快照事实表</strong></span>和<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">累积快照事实表</strong></span>。</p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">事务事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong>单事务事实表</strong>，</span>针对于<span style="box-sizing: border-box;font-weight: 700;color: rgb(255, 104, 39);border-radius: 0px !important;">每个业务过程</span>设计一个事实表，方便每个业务过程进行独立分析研究。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">优点：</strong></span>更方便跟踪业务流程细节数据，针对特殊的业务分析场景比较方便和灵活，数据处理上也更加灵活;</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">弊端：</strong></span>数仓中需要管理太多的事实表，同时跟踪业务流转不够直观</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong>多事务事实表</strong></span>，将<span style="box-sizing: border-box;font-weight: 700;color: rgb(255, 104, 39);border-radius: 0px !important;">不同的事实放到同一个事实表</span>中，即同一个事实表包含不同的业务过程。多事务事实表在设计时有两种方法进行事实的处理：<br  /></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">一是不同业务过程的事实使用不同的事实字段进行存放：</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">二是不同业务过程的事实使用同一个事实字段进行存放，但增加一个业务过程标签。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">优点：</strong></span>能够更直观的跟踪业务流转和当前状态，流程事实集中，方便大部分的通用分析应用场景，由于和业务侧的数据模型设计思路一致，也是目前最常用的事实表设计;</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">弊端：</strong></span>细节数据跟踪不到位，特殊场景的分析不够灵活;</p><p style="box-sizing: border-box;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;text-align: center;border-radius: 0px !important;margin-top: 0.8em !important;margin-right: 0px !important;margin-bottom: 0em;margin-left: 0px !important;"><img class="rich_pages wxw-img" data-ratio="0.5096525096525096" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic9VQP5dl39PTFIPPptNeOOfq3pOYrTADhjicqTy3GEqg9MesvevialFF2M8jO36ltHib9pNLO5ZJDMBg/640?wx_fmt=png" data-type="png" data-w="1295" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;max-width: 100%;border-radius: 0px !important;" title=""></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">两种表的设计区别在于对业务流程的拆分思路不同，具体选择事实表的构建思路，需要根据实际的业务确定，一般建议两者结合。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong>父子事实的处理方式，</strong></span>通过分摊父订单的金额将所有业务过程的度量全部带进淘宝交易事务事实表中，包括下单数量、商品价格、子订单折扣、下单分摊比例、父订单支付金额、父订单支付邮费、父订单折扣、子订单下单金额、子订单下单有效金额、支付分摊比例、子订单支付金额等，将父子事实同时冗余到事务表中。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(0, 82, 255);">设计准则</span></strong></p><ol style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: decimal;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事实完整性</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">事实表包含与其描述的过程有关的所有事实，即尽可能多地获取所有的度量。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事实一致性</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">在确定事务事实表的事实时，明确存储每一个事实以确保度量的一致性。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事实可加性</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">事实表确定事实时，往往会遇到非可加性度量，比如分摊比例、利润率等，虽然它们也是下游分析的关键点，但往往在事务事实表中关注更多的是可加性事实，下游用户在聚合统计时更加方便。</p></li></ol><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">周期快照事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">快照事实表在确定的问隔内对实体的度量进行抽样，这样可以很容易地研究实体的度量值，而不需要聚集长期 的事务历史。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="font-size: 16px;"><strong><span style="font-size: 16px;color: rgb(0, 82, 255);">特征</span></strong></span></p><ol style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: decimal;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">用快照采样状态</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">快照事实表以预定的间隔采样状态度量。这种间隔联合一个或多个维度，将被用来定义快照事实表的粒度，每行都将包含记录所涉及状态的事实。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">快照粒度</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">事务事实表的粒度可以通过业务过程中所涉及的细节程度来描述，但快照事实表的粒度通常总是被多维声明，可以简单地理解为快照需要采样的周期以及什么将被采样。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">密度与稀疏性</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">快照事实表和事务事实表的一个关键区别在密度上。事务事实表是稀疏的，只有当天发生的业务过程，事实表才会记录该业务过程的事实，如下单、支付等；而快照事实表是稠密的，无论当天是否有业务过程发生，都会记录一行，比如针对卖家的历史至今的下单和支付金额，无论当天卖家是否有下单支付事实，都会给该卖家记录一行。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">半可加性</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">在快照事实表中收集到的状态度量都是半可加的。与事务事实表的可加性事实不同，半可加性事实不能根据时间维度获得有意义的汇总结果。</p></li></ol><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong><span style="font-size: 16px;">设计实例</span></strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">单维度的每天快照事实表</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">确定粒度、确定维度</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">混合维度的每天快照事实表</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">确定粒度、确定维度、确定状态度量</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">全量快照事实表</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">相比单维度的快照事实表，多了一些冗余维度。例如，商品评价表，多了子订单维度、商品维度、评论者维度。</p><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">累计快照事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">对于类似于研究事件之间时间间隔的需求，采用累计快照事实表可以很好地解决。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">如在统计买家下单到支付的时长、买家支付到卖家发货的时长等，事务事实表很难满足，需要用到累计快照事实表。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="font-size: 16px;color: rgb(0, 82, 255);">特征</span></strong></p><ol style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: decimal;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><strong><span style="color: rgb(255, 104, 39);">数据不断更新</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">针对于实体中的某一实例定期更新。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><strong><span style="color: rgb(255, 104, 39);">多业务过程日期</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">累积快照事实表适用于具有较明确起止时间的短生命周期的实体，比如交易订单、物流订单等，对于实体的每一个实例，都会经历从诞生到消亡等一系列步骤。对于商品、用户等具有长生命周期的实体，一般采用周期快照事实表更合适。<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">累积快照事实表的典型特征是多业务过程日期，用于计算业务过程之间的时间间隔。</strong></span>但结合阿里巴巴数据仓库模型建设的经验，对于累积快照事实表，还有一个重要作用是保存全量数据。</p></li></ol><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="font-size: 16px;color: rgb(0, 82, 255);">特殊处理</span></strong></p><ol style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: decimal;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">非线性过程</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">淘宝一般流程是：下单、支付、发货、确认收货。但并不是所有的交易都会走此流程，比如买家下单之后不支付或关闭订单。针对这种非线性过程，处理情况主要有以下几种：(1）业务过程的统一</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">我们以流程结束标志为依据，关闭订单也是结束标志，统一起来。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">(2）针对业务关键里程碑构建全面的流程</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">对于没有支付或没有发货的交易订单也将其纳入流程来，相关的业务字段置孔。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">(3）循环流程的处理</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">主要解决问题是一个业务过程有多个日期。使用业务过程的第一次发生日期还是最近发生日期，根据用户决定。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">多源过程</strong>&nbsp;</span>针对多源业务建模，主要考虑事实表的粒度问题。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">业务过程取舍</strong></span>&nbsp;当拥有大量的业务过程时，模型的实现复杂度会增加，特别是对于多源业务过程，模型的精合度过高，此时需要根据商业用户需求，选取关键的里程碑。</p></li></ol><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);"><strong><span style="font-size: 16px;">物理实现</span></strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">逻辑模型和物理模型密不可分，针对累积快照事实表模型设计，其有不同的实现方式。<strong><span style="color: rgb(255, 104, 39);">第一种：<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">增量存储</strong>&nbsp;</span></strong>以业务实体的结束时间分区。即每周期仅处理增量部分的数据，针对状态无变化的数据比较适合 ；<strong><span style="color: rgb(255, 104, 39);">第二种：<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">全量快照</strong>&nbsp;</span></strong>状态有变化，每天的分区存储昨天的全量数据和当天的增量数据合并的结果，对于数据量在可控范围内的情况可以采用如下 保存策略: 如果存储空间和成本可接受，完整存储，确保能够追溯到历史每天数据状态 存储空间有限，考虑移动历史快照数据到冷盘，需要使用的时候可恢复 数据历史状态数据无太大价值，可以考虑部分删除，比如近保留每月最后一天的快照数据 ；<strong><span style="color: rgb(255, 104, 39);">第三种：<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">拉链</strong></span></strong>&nbsp;针对于全量表的变化形式，数据量大、但缓慢变化、需要跟踪历史状态，和缓慢渐变维类似。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="font-size: 16px;"><strong><span style="font-size: 16px;color: rgb(0, 82, 255);">设计准则</span></strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">同事务事实表设计一样。</p><p style="box-sizing: border-box;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;text-align: center;border-radius: 0px !important;margin-top: 0.8em !important;margin-right: 0px !important;margin-bottom: 0em;margin-left: 0px !important;"><img class="rich_pages wxw-img" data-ratio="0.48668639053254437" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic9VQP5dl39PTFIPPptNeOOfHjSbmTfib9jTTTaXl9ljfvibZUms8Sia0oSlNKqqbwekvshSvlQw5KzuA/640?wx_fmt=png" data-type="png" data-w="676" style="box-sizing: border-box;border-width: 0px;border-style: initial;border-color: initial;vertical-align: middle;max-width: 100%;border-radius: 0px !important;" title=""></p><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">05</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">无事实的事实表<br  /></span></strong></span></p></section></section></section></section><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">在维度模型中，事实表用事实来度量业务过程，不包含事实或度量的事实表称为<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">无事实的事实表</strong>。</span>虽然没有明确的事实，但可以用来支持业务过程的度量。常见的无事实的事实表主要有如下两种：</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><br  /><strong><span style="color: rgb(255, 104, 39);">第一种是<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">事件类</strong>的，记录事件的发生。</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">如阿里巴巴数据仓库中，最常见的是日志类事实表。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(255, 104, 39);">第二种是<strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">条件、范围或资格类</strong>的，记录维度与维度多对多之 间的关系。</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">如客户和销售人员的分配情况、产品的促销范围等。</p><section data-class="_mbEditor"><section label="Powered by 135editor.com" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: 微软雅黑;visibility: visible;"><section data-id="86134" style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><section style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;text-align: center;visibility: visible;"><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 28px;color: rgb(10, 10, 219);visibility: visible;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;">06</strong></span></section><section style="margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;background-color: rgb(254, 254, 254);visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section><section style="margin: -1.2em 0px 0.65em;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;visibility: visible;"><section data-width="20%" style="margin: 0px auto;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;border-top: 1px solid rgb(10, 10, 219);border-right-color: rgb(10, 10, 219);border-bottom-color: rgb(10, 10, 219);border-left-color: rgb(10, 10, 219);width: 135.391px;visibility: visible;"><br style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"  /></section></section><p style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;clear: both;min-height: 1em;border-width: 0px;border-style: none;border-color: initial;visibility: visible;"><span style="font-size: 18px;"><strong style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"><span style="font-size: 18px;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(0, 82, 255);visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">聚集型事实表<br  /></span></strong></span></p></section></section></section></section><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">数据仓库的性能是数据仓库建设是否成功的重要标准之一。聚集主要是通过汇总明细粒度数据来获得改进查询性能的效果。通过访问聚集数据，可以减少数据库在响应查询时必须执行的工作量，能够快速响应用户的查询，同时有利于减少不同用户访问明细数据带来的结果不一致问题。如阿里巴巴将使用频繁的公用数据，通过聚集进行沉淀，比如卖家最近 l 天的交易汇总表、卖家最近 N 天的交易汇总表、卖家自然年交易汇总表等。这类聚集汇总数据，被叫作<span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">公共汇总层</strong>。</span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">相对于明细事实表，聚合事实表通常是在明细事实表的基础上，按照一定的粒度粗细进行的汇总、聚合操作，它的粒度较明细数据粒度粗，同时伴随着细节信息的丢失;在数仓层次结构中，通常位于dws层，一般作为通用汇总数据存在，也可以是更高粒度的指标数据。</p><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">基本原则</span></h3><ul style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: square;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">一致性</strong>&nbsp;</span>聚集表必须提供与查询明细粒度数据一致的查询结果。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">避免单一表设计</strong></span>&nbsp;不要在同一个表中存储不同层次的聚集数据；否则将会导致双重计算或出现更糟糕的事情。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">聚集粒度可不同</strong></span>&nbsp;聚集并不需要保持与原始明细粒度数据一样的粒度，聚集只关心所需要查询的维度。</p></li></ul><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">基本步骤</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(255, 104, 39);">Step 1：确定聚集维度。</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(255, 104, 39);">Step 2：确定一致性上钻。</span></strong></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><strong><span style="color: rgb(255, 104, 39);">Step 3：确定聚集事实。</span></strong></p><p><br  /></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">常见聚集型事实表</span></h3><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">数据仓库中，按照日期范围的不同，通常包括以下类别的聚集事实表</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">公共维度层-通用汇总</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">应对大部分可预期的、常规的数据需求，通常针对模式相对稳定的分析、BI指标计算、特征提取等场景，封装部分业务处理、计算逻辑，尽量避免用户直接使用底层明细数据，该层用到的数据范围比较广泛。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">日粒度</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">主要应对模式稳定的分析、BI日报、特征提取场景，同时日粒度也为后续累积计算提供粗粒度的底层，数据范围一般为上一日的数据 。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">周期性累积</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">主要应对明确的周期性分析、BI周期性报表，数据范围一般在某周期内的。</p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">历史累积</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;">顾名思义，历史以来某一特定数据的累积，通常在用户画像、经营分析、特征提取方面场景较多，设计数据范围比较广泛，通常是计算耗时较长的一部分，比如某门店累积营业额、某用户累积利润贡献、用户首次下单时间(非可度量、描述性)。<span style="color: rgb(51, 51, 51);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;text-align: justify;"></span></p><h3 style="box-sizing: border-box;border-radius: 0px !important;font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-weight: 700;line-height: 1.1;color: rgb(28, 31, 33);margin-top: 20px;margin-bottom: 10px;font-size: 1.19111em;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"><span style="color: rgb(0, 82, 255);">聚集补充说明</span></h3><ol style="box-sizing: border-box;border-radius: 0px !important;margin-top: 0px;margin-bottom: 10px;list-style-type: decimal;margin-block: 1em;margin-inline: 0px;padding-inline-start: 40px;display: block;color: rgb(28, 31, 33);font-family: -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;" class="list-paddingleft-1"><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">聚集是不跨越事实的</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">聚集是针对原始星形模型进行的汇总，为了获取和查询与原始模型一致的结果，聚集的维度和度量必须与原始模型保持一致，因 此聚集是不跨越事实的。</p></li><li style="box-sizing: border-box;border-radius: 0px !important;"><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;"><span style="color: rgb(255, 104, 39);"><strong style="box-sizing: border-box;border-radius: 0px !important;font-weight: 700;">聚集带来的问题</strong></span></p><p style="box-sizing: border-box;border-radius: 0px !important;margin: 0.8em 0px !important;text-indent: 0px;line-height: 1.5;color: rgb(28, 31, 33);overflow-x: auto;padding: 10px 0px;">聚集会带来查询性能的提升，但聚集也会增加 ETL 维护的难度。当子类目对应的一级类目发生变更时，先前存在的、已经被汇总到聚集表中的数据需要被重新调整。这一额外工作随着业务复杂性的增加，会导致多数 ETL 人员选择简单强力的方法，删除并重新聚集数据。</p></li></ol><section class="mp_profile_iframe_wrp"><mp-common-profile class="js_uneditable custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、数字体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><section style="margin: 0px 8px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.5em;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br  /></section><div class="msg_source_url"><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2275731492741890049#wechat_redirect" target="_blank">阅读原文</a></div></content><div class="msg_source_url"><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2275731492741890049#wechat_redirect" target="_blank">阅读原文</a></div>
</div>
</body>
</html>