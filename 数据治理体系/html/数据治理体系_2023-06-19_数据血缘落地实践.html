<html>
<head>
<title></title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;overflow:hidden;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:13px;padding-bottom:13px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;padding:0 0 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:0px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:#a5a5a5;}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size: 15px;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}#copyright_logo{color:#bdbdbd;}.rich_media_meta_list{margin-bottom:10px;}.reprint{background:#efefef;border-radius:5px;padding:8px;color:#1f1f1f;}.reprint a{word-break:break-all;}.topic{color:#8e8e8e;background:#f7f7f7;border-radius:5px;padding:10px 8px;}.topic a{padding-right:5px;}.topic p{margin-bottom:5px;}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head><script>
var data={"mp":"数据治理体系","title":"数据血缘落地实践","time":"2023-06-19 07:49:30","timeStamp":"1687132170"};
</script>
<body>
<div class="rich_media"><h1 class="rich_media_title" id="activity-name"><a href="http://mp.weixin.qq.com/s?__biz=MzA3NjIzNjMwOA==&mid=2247495612&idx=1&sn=11dc43dc2e7caa4cac23915ff3276b20&chksm=9f66fcc7a81175d106582e229f4f418a81155fa5b63de05898b1e461d358f8379809e463398a#rd" target="_blank">数据血缘落地实践</a></h1><div id="meta_content" class="rich_media_meta_list"><span class="rich_media_meta rich_media_meta_text">明仔&nbsp;&nbsp;</span><span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);" class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" id="js_name">数据治理体系&nbsp;&nbsp;</a></span><em id="publish_time" class="rich_media_meta rich_media_meta_text">2023-06-19 07:49:30</em></div><content><div class="topic"><p>收录于话题</p><p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2456138434776711173#wechat_redirect" title="元数据" target="_blank">#元数据</a></p></div><p style="text-align: right;" data-mpa-powered-by="yiban.io"><span style="color: rgb(66, 75, 93);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;letter-spacing: 1px;text-align: left;word-spacing: 3px;background-color: rgb(255, 255, 255);font-size: 12px;">本文来自PowerData&nbsp;李奇峰</span></p><section class="mp_profile_iframe_wrp"><mp-common-profile class="custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、指标体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。关注我，和您一起终身学习。" data-from="0" data-weui-theme="light"></mp-common-profile></section><p style="text-align: right;"><span style="color: rgb(66, 75, 93);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;letter-spacing: 1px;text-align: left;word-spacing: 3px;background-color: rgb(255, 255, 255);font-size: 12px;"></span></p><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="margin-bottom: 0px;padding-right: 10px;padding-left: 10px;outline: 0px;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.6;word-break: break-word;text-align: left;font-size: 15px;letter-spacing: 0.05em;color: rgb(89, 89, 89);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;"><p style="padding: 10px 10px 10px 20px;outline: 0px;font-size: 16px;color: black;line-height: 26px;border-top: none;border-bottom: none;overflow: auto;border-left: 3px solid rgb(53, 179, 120);border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);word-break: break-word;letter-spacing: 0.05em;">‍在复杂的社会分工协作体系中，我们需要明确个人定位，才能更好的发挥价值，数据也是一样，于是，数据血缘应运而生。</p><p style="padding: 10px 10px 10px 20px;outline: 0px;font-size: 16px;color: black;line-height: 26px;border-top: none;border-bottom: none;overflow: auto;border-left: 3px solid rgb(53, 179, 120);border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);word-break: break-word;letter-spacing: 0.05em;">今天这篇文章会全方位的讲解数据血缘，并且给出具体的落地实施方案。</p><p style="margin-bottom: 0em;outline: 0px;text-align: center;"><br style="outline: 0px;"  /></p><figure data-tool="mdnice编辑器" style="margin-top: 10px;margin-bottom: 10px;outline: 0px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><figcaption style="margin-top: 5px;outline: 0px;text-align: center;color: rgb(136, 136, 136);font-size: 14px;"><img class="rich_pages wxw-img" data-ratio="0.6027777777777777" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuUgUURBsxWBjrzdqpx3PNibXHF8RJ29ks7gO0CCC5c2jIymSa6p3ba0g/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  />图：数据血缘实例</figcaption></figure><h1 data-tool="mdnice编辑器" style="margin-top: 1.2em;margin-bottom: 1em;outline: 0px;font-weight: bold;font-size: 24px;color: rgb(53, 179, 120);">一、数据血缘是什么</h1><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;color: black;">数据血缘是在数据的<strong style="outline: 0px;color: rgb(53, 179, 120);">加工、流转</strong>过程产生的数据与数据之间的关系。</p><p style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;color: black;line-height: normal;">提供一种<strong style="outline: 0px;color: rgb(53, 179, 120);">探查数据关系</strong>的手段，用于跟踪数据流经路径。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;color: black;"><span style="outline: 0px;color: rgb(53, 179, 120);font-size: 24px;font-weight: bold;letter-spacing: 0.05em;">二、数据血缘的组成</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;color: black;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">1、数据节点</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;color: black;">数据血缘中的节点，可以理解为数据流转中的一个个<strong style="outline: 0px;color: rgb(53, 179, 120);">实体</strong>，用于<strong style="outline: 0px;color: rgb(53, 179, 120);">承载数据功能业务</strong>。例如数据库、数据表、数据字段都是数据节点；从广义上来说，与数据业务相关的实体都可以作为节点纳入血缘图中，例如指标、报表、业务系统等。</p><span style="outline: 0px;color: rgb(0, 0, 0);font-size: 16px;">按照血缘关系划分节点，主要有以下三类：流出节点-&gt;中间节点-&gt;流入节点</span></section><p style="margin-bottom: 0em;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><img class="rich_pages wxw-img" data-ratio="0.34805194805194806" data-type="png" data-w="385" style="outline: 0px;width: 385px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuKNh2hDibDTb73B8MWQ2ibrZhmRGiaj8GDceYqEGfDbXMO65966pGsiaLuw/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="margin-bottom: 0px;padding-right: 10px;padding-left: 10px;outline: 0px;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.6;word-break: break-word;text-align: left;font-size: 15px;letter-spacing: 0.05em;font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;"><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">流出节点：</strong><span style="outline: 0px;letter-spacing: 0.05em;">&nbsp;数据提供方，血缘关系的源端节点。</span></section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><span style="outline: 0px;letter-spacing: 0.05em;"></span><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">中间节点：</strong><span style="outline: 0px;letter-spacing: 0.05em;">&nbsp;血缘关系中类型最多的节点，既承接流入数据，又对外流出数据。</span></section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><span style="outline: 0px;letter-spacing: 0.05em;"></span><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">流入节点：</strong><span style="outline: 0px;letter-spacing: 0.05em;">&nbsp;血缘关系的终端节点，一般为应用层，例如可视化报表、仪表板或业务系统。</span><span style="outline: 0px;letter-spacing: 0.05em;"></span></section><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">2、节点属性</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;letter-spacing: 0.05em;">当前节点的属性信息，例如表名，字段名，注释，说明等。</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;letter-spacing: 0.05em;"></span><img class="rich_pages wxw-img" data-ratio="1.0728476821192052" data-type="png" data-w="755" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KusfWn2GeMdGFfibkd33I52aTxdgpsGPYCCBskbFRiblEUkpsVU5un47vg/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">3、流转路径</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.28892455858747995" data-type="png" data-w="623" style="outline: 0px;width: 623px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuaOK7AGUnRaM7Tj858ibbVlxexdicdglxp9rj1ibhSj6zpQJibSS4PERPZA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /><span style="outline: 0px;letter-spacing: 0.05em;"></span></p><p style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 1.5em;">数据流转路径通过表现<strong style="outline: 0px;color: rgb(53, 179, 120);">数据流动方向、数据更新量级、数据更新频率</strong>三个维度的信息，标明了数据的流入流出信息：</p><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据流动方向：</strong>&nbsp;通过箭头的方式表明数据流动方向</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据更新量级：</strong>&nbsp;数据更新的量级越大，血缘线条越粗，说明数据的重要性越高。</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据更新频率：</strong>&nbsp;数据更新的频率越高，血缘线条越短，变化越频繁，重要性越高。</section><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">4、流转规则-属性</span></p><span style="outline: 0px;color: rgb(89, 89, 89);"><span style="margin-right: auto;margin-left: auto;outline: 0px;"><img class="rich_pages wxw-img" data-ratio="0.28892455858747995" data-type="png" data-w="623" style="outline: 0px;width: 623px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuaOK7AGUnRaM7Tj858ibbVlxexdicdglxp9rj1ibhSj6zpQJibSS4PERPZA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></span></span><p style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 1.5em;">流转规则体现了数据<strong style="outline: 0px;color: rgb(53, 179, 120);">流转过程中发生的变化</strong>，属性则记录了当前路径对数据的<strong style="outline: 0px;color: rgb(53, 179, 120);">操作内容</strong>，用户可通过流转路径查看该路径规则与属性，规则可以是直接映射关系，也可以是复杂的规则，例如：</p><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据映射：</strong>&nbsp;不对数据做任何变动，直接抽取。</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据清洗：</strong>&nbsp;表现数据流转过程中的筛选标准。例如要求数据不能为空值、符合特定格式等。</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据转换：</strong>&nbsp;数据流转过程中，流出实体的数据需要进行特殊处理才能接入到数据需求方。</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据调度：</strong>&nbsp;体现当前数据的调度依赖关系。</section><section style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: normal;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据应用：</strong>&nbsp;为报表与应用提供数据。</section><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-size: 24px;font-weight: bold;letter-spacing: 0.05em;">三、我们为什么需要数据血缘</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">1、日益庞大的数据开发导致表间关系混乱，管理成本与使用成本激增</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">数据血缘产生最本质的需求。大数据开发作为数据汇集与数据服务提供方，庞大的数据与混乱的数据依赖导致管理成本与使用成本飙升。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.5574074074074075" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Ku2Eq2iaMWwh8FBJibJdqXaDziacugRAQE7OnUV1hN3swBTQORPUvWRjaDA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">2、数据价值评估，数据质量难以推进</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">表的优先级划分，计算资源的倾斜，表级数据质量监控，如何制定一个明确且科学的标准。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">3、什么表该删，什么表不能删，下架无依据</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">业务库，数仓库，中间库，开发库，测试库等众多库表，是否存在数据冗余（一定存在）。以及存储资源如何释放？</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">4、动了一张表，错了一堆表</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">你改了一张表的字段，第二天醒来发现邮件里一堆任务异常告警。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">5、ETL任务异常时的归因分析、影响分析、恢复</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">承接上个问题，如果存在任务异常或者ETL故障，我们如何定位异常原因，并且进行影响分析，以及下游受影响节点的快速恢复。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">6、调度依赖混乱</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">数据依赖混乱必然会带来调度任务的依赖混乱，如何构建一个健壮的调度依赖。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">7、数据安全审计难以开展</span></p><section style="margin-right: 4px;margin-bottom: 1em;margin-left: 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">针对银行、保险、政府等对安全关注度较高的行业，数据安全-数据泄露-数据合规性需要重点关注。</section><section style="margin-right: 4px;margin-bottom: 1em;margin-left: 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">由于数据存在ETL链路操作，下游表的数据来源于上游表，所以需要基于数据全链路来进行安全审计，否则可能会出现下游数据安全等级较低，导致上游部分核心数据泄露。</section><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-size: 24px;font-weight: bold;letter-spacing: 0.05em;">四、数据血缘可以做什么</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 21px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;">1、流程定位，追踪溯源</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.7374599786552828" data-type="png" data-w="937" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuKibibs6F7lxc8qh4MB2e4daWqbXAYuw7VIWK5Qne89w3LKzZibzQUHW0g/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;letter-spacing: 0.05em;">通过</span><span style="outline: 0px;letter-spacing: 0.05em;">可视化方式，将</span><span style="outline: 0px;letter-spacing: 0.05em;">目标表的上下游依赖进行展示，一目了然。</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 21px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;">2、确定影响范围</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.44862518089725034" data-type="png" data-w="691" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KufvEo1xejRztVmWAq0Aice07okQ9ftGKlk1eZS0hSiaUHUkrficMfZdbPQ/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /><span style="outline: 0px;letter-spacing: 0.05em;"></span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">通过当前节点的下游节点数量以及类型可以确定其影响范围，可避免出现上游表的修改导致下游表的报错。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 21px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;">3、评估数据价值、推动数据质量</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">通过对所有表节点的下游节点进行汇总，排序，作为数据评估依据，可重点关注输出数量较多的数据节点，并添加数据质量监控。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">4、提供数据下架依据</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">例如以下数据节点，无任何下游输出节点，且并无任何存档需求，则可以考虑将其下架删除。<img class="rich_pages wxw-img" data-ratio="1.0686274509803921" data-type="png" data-w="408" style="outline: 0px;letter-spacing: 0.05em;width: 408px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Kuw7nhgwgOtxVWn0xUibNudnzpBPr1VCpXiagwicZrvtCia3OUPjpSEgHebg/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">5、归因分析，快速恢复</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">当某个任务出现问题时，通过查看血缘上游的节点，排查出造成问题的根因是什么。同时根据当前任务节点的下游节点进行任务的快速恢复。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">6、梳理调度依赖</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">可以将血缘节点与调度节点绑定，通过血缘依赖进行ETL调度。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">7、数据安全审计</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">数据本身具有权限与安全等级，下游数据的安全等级不应该低于上游的安全等级，否则会有权限泄露风险。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">可以基于血缘，通过扫描高安全等级节点的下游，查看下游节点是否与上游节点权限保持一致，来排除权限泄露、数据泄露等安全合规风险。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-size: 24px;font-weight: bold;letter-spacing: 0.05em;">五</span><span style="outline: 0px;color: rgb(53, 179, 120);font-size: 24px;font-weight: bold;letter-spacing: 0.05em;">、数据血缘落地方案</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;letter-spacing: 0.05em;">目前业内常见的落地数据血缘系统以及应用，主要有以下三种方式：</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">1、采用开源系统：</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">Atlas、Metacat、Datahub等</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.6034648700673725" data-type="png" data-w="1039" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Ku0nWDGzjqytQSib0nKF7TLnckf8KshyOpaKXbA5Mg0kvRWrgsVVhplAg/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">采用开源系统最大的优点是投入成本较低，但是缺点主要包括&nbsp;</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">1、适配性较差，开源方案无法完全匹配公司现有痛点。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">2、二开成本高，需要根据开源版本进行定制化开发。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">2、厂商收费平台：</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">亿信<strong style="outline: 0px;">华辰</strong>，网易数帆等</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong><span style="outline: 0px;color: rgb(0, 0, 0);"><span style="margin-right: auto;margin-left: auto;outline: 0px;"><img class="rich_pages wxw-img" data-ratio="0.7440532825880114" data-type="png" data-w="1051" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuGaK8sXj5MFBe6bVGGeTdNrJib3ZoBzeftGjia1oicicvqCF7ryyPCrQx9g/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></span><span style="outline: 0px;letter-spacing: 0.05em;"></span></span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;letter-spacing: 0.05em;">此</span><span style="outline: 0px;letter-spacing: 0.05em;">类数据平台中会内置数据血缘管理系统，功能较为全面，使用方便。</span><span style="outline: 0px;letter-spacing: 0.05em;">但是同样也有以下缺点：</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">1、贵</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">2、需要<strong style="outline: 0px;color: rgb(53, 179, 120);">ALL IN</strong>厂商平台，为保障数据血缘的使用，数据业务需要全部迁移到厂商平台中。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">3、自建</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">通过图数据库、后端、前端自建数据血缘管理系统，此方案开发投入较大，但是有以下优点</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">1、因地制宜，可根据核心痛点定制化开发元数据及数据血缘系统。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">2、技术积累，对于开发人员来说，从0-1开发数据血缘系统，可以更深刻的理解数据业务。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">3、平台解耦，独立于数据平台之外，数据血缘的开发不会对正常业务造成影响。</p><blockquote data-tool="mdnice编辑器" style="margin: 10px 5px;padding: 10px 10px 10px 20px;outline: 0px;border-left-color: rgb(53, 179, 120);color: rgb(97, 97, 97);font-size: 0.9em;border-top: none;border-bottom: none;overflow: auto;border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);"><p style="padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;color: black;line-height: 26px;">接下来我们讲讲如何自建数据血缘系统</p></blockquote><section class="mp_profile_iframe_wrp" style="outline: 0px;"><mp-common-profile class="custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-weuitheme="light" data-id="MzUyMTA1NTcyOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABxIF709aNHDd8X0RVNNZWCzzhcsibF4UyGrQXHhB6w3hyibMoa49JicotJzIGXfic9PguDp5ZrniafKoRw/0?wx_fmt=png" data-nickname="PowerData" data-alias="PowerDataHub" data-signature="PowerData数据之力社区官方公众号" data-from="2" data-origin_num="10" data-isban="0" data-biz_account_status="0" data-index="1" data-weui-theme="light"></mp-common-profile></section><h1 data-tool="mdnice编辑器" style="margin-top: 1.2em;margin-bottom: 1em;outline: 0px;font-weight: bold;font-size: 24px;color: rgb(53, 179, 120);">六、如何自建数据血缘系统</h1><h1 data-tool="mdnice编辑器" style="margin-top: 1.2em;margin-bottom: 1em;outline: 0px;font-weight: bold;font-size: 24px;color: rgb(53, 179, 120);"><span style="outline: 0px;font-size: 21px;">1、明确需求，确定边界</span></h1><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">在进行血缘系统构建之前，需要进行需求调研，明确血缘系统的主要功能，从而确定血缘系统的最细节点粒度，实体边界范围。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">例如节点粒度是否需要精确到字段级，或是表级。一般来说，<strong style="outline: 0px;color: rgb(53, 179, 120);">表级粒度血缘可以解决75%左右的痛点需求，</strong>&nbsp;字段级血缘复杂度较表级血缘高出许多，如果部门人数较少，可以考虑只精确到表级粒度血缘。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">常见的实体节点包括：<strong style="outline: 0px;color: rgb(53, 179, 120);">任务节点、库节点、表节点、字段节点、指标节点、报表节点、部门节点等</strong>。血缘系统可以扩展数据相关的实体节点，可以从不同的场景查看数据走向，例如表与指标，指标与报表的血缘关系。但是实体节点的范围需要明确，不可无限制的扩展下去。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">明确需求，确定节点粒度与范围之后，才可根据痛点问题给出准确的解决方案，不至于血缘系统越建越臃肿，提高<strong style="outline: 0px;color: rgb(53, 179, 120);">ROI（投入产出比）</strong>。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">2、构建元数据管理系统</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">目前市面上所有的血缘系统都需要依赖于元数据管理系统而存在。</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">元数据作为血缘的基础，一是用于构建节点间的关联关系，二是用于填充节点的属性，三是血缘系统的应用需要基于元数据才能发挥出最大的价值。所以构建血缘系统的前提一定是有一个较全面的元数据。</p><blockquote data-tool="mdnice编辑器" style="margin: 10px 5px;padding: 10px 10px 10px 20px;outline: 0px;border-left-color: rgb(53, 179, 120);color: rgb(97, 97, 97);font-size: 0.9em;border-top: none;border-bottom: none;overflow: auto;border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);"><p style="outline: 0px;"><span style="outline: 0px;font-size: 16px;">元数据管理系统将会在下周发布的<strong style="outline: 0px;color: rgb(53, 179, 120);">《元数据管理系统落地实施》</strong>文章中进行详细讲解</span></p></blockquote><h2 data-tool="mdnice编辑器" style="margin-top: 1em;margin-bottom: 0rem;padding-top: 0.5em;padding-bottom: 0.5em;outline: 0px;font-weight: bold;font-size: 23px;color: rgb(53, 179, 120);line-height: 32px;display: inline-block;border-bottom: 0px solid rgb(53, 179, 120);border-top-color: rgb(53, 179, 120);border-right-color: rgb(53, 179, 120);border-left-color: rgb(53, 179, 120);"><span style="outline: 0px;font-size: 21px;">3、技术选型：图数据库</span></h2><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">目前业内通常采用图数据库进行血缘关系的存储。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">对于血缘关系这种层级较深，嵌套次数较多的应用场景，关系型数据库必须进行表连接的操作，表连接次数随着查询的深度增大而增多，会极大影响查询的响应速度。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">而在图数据库中，应用程序不必使用外键约束实现表间的相互引用，而是利用关系作为连接跳板进行查询，在查询关系时性能极佳，而且利用图的方式来表达血缘关系更为直接。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">下图为图数据库与关系型数据库在查询人脉时的逻辑对比：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong><span style="outline: 0px;color: rgb(0, 0, 0);"><span style="margin-right: auto;margin-left: auto;outline: 0px;"><img class="rich_pages wxw-img" data-ratio="1.3560439560439561" data-type="png" data-w="455" style="outline: 0px;width: 455px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuDHvRz7JPVbkS0PsW9hvMticicGHSdJBibAn34DU33e7x8qWtfENaErfzA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></span></span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 21px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;">4、血缘关系录入：自动解析and手动登记</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">自动解析：</strong></span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">获取到元数据之后，<span style="outline: 0px;letter-spacing: 0.05em;">首先可以根据元数据表中的SQL抽取语句，通过</span><strong style="outline: 0px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">SQL解析器</strong><span style="outline: 0px;letter-spacing: 0.05em;">可自动化获取到当前</span><span style="outline: 0px;letter-spacing: 0.05em;">表的来源表</span><span style="outline: 0px;letter-spacing: 0.05em;">【SQL解析器推荐jsqlparse】，并进行血缘关系录入。</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;font-size: 16px;letter-spacing: 0.05em;color: rgb(53, 179, 120);">手动登记：</strong></span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">如果当前表无SQL抽取语句，数据来源为手动导入、代码写入、SparkRDD方式等无法通过自动化方式确定来源表的时候，我们需要对来源表进行手动登记，然后进行血缘关系的录入。</p><blockquote data-tool="mdnice编辑器" style="margin: 10px 5px;padding: 10px 10px 10px 20px;outline: 0px;border-left-color: rgb(53, 179, 120);color: rgb(97, 97, 97);font-size: 0.9em;border-top: none;border-bottom: none;overflow: auto;border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);"><p style="padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;color: black;line-height: 26px;">血缘关系录入需要基于图数据库进行，图数据库的建模、语句与关系型数据库截然不同，如有疑问可以加入社区交流群进行解答。</p></blockquote><h2 data-tool="mdnice编辑器" style="margin-top: 1em;margin-bottom: 0rem;padding-top: 0.5em;padding-bottom: 0.5em;outline: 0px;font-weight: bold;font-size: 23px;color: rgb(53, 179, 120);line-height: 32px;display: inline-block;border-bottom: 0px solid rgb(53, 179, 120);border-top-color: rgb(53, 179, 120);border-right-color: rgb(53, 179, 120);border-left-color: rgb(53, 179, 120);"><span style="outline: 0px;font-size: 21px;">5、血缘可视化</span></h2><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">血缘系统构建完成后，为了能够更好的体现血缘价值，量化产出，需要进行血缘可视化的开发，分为两步：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（1）链路-属性展示：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">根据具体节点，通过点击操作，逐级展示血缘节点间的链路走向与涉及到的节点属性信息。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.8055555555555556" data-type="png" data-w="468" style="outline: 0px;width: 468px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Ku1khl4HfCahXnJRt0XDicfNYkiae30nf67GUHBg43F5EmibDRV8xQuxtdA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.586013986013986" data-type="png" data-w="715" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuBrg0l22GKLVd4d5773LaWzPPUjX0HlIdicofu8FSwbmOQC2lurUBJIQ/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="1.0694626474442988" data-type="png" data-w="763" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KujPZO6AJKlibspwUNviaCHwe1kNxBjEPrMUlbbZfQF6YEb8PojbjMvwBw/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（2）节点操作：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">基于可视化的血缘节点与当前节点附带的元数据属性，我们可以设想一些自动化操作例如：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">节点调度：</strong>直接基于血缘开启当前表节点的调度任务&nbsp;</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">属性修改：</strong>通过前端修改当前节点的元数据属性并保存</p><blockquote data-tool="mdnice编辑器" style="margin: 10px 5px;padding: 10px 10px 10px 20px;outline: 0px;border-left-color: rgb(53, 179, 120);color: rgb(97, 97, 97);font-size: 0.9em;border-top: none;border-bottom: none;overflow: auto;border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);"><p style="padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;color: black;line-height: 26px;">还有更多可视化操作可以加入社区交流群进行讨论</p></blockquote><h2 data-tool="mdnice编辑器" style="margin-top: 1em;margin-bottom: 0rem;padding-top: 0.5em;padding-bottom: 0.5em;outline: 0px;font-weight: bold;font-size: 23px;color: rgb(53, 179, 120);line-height: 32px;display: inline-block;border-bottom: 0px solid rgb(53, 179, 120);border-top-color: rgb(53, 179, 120);border-right-color: rgb(53, 179, 120);border-left-color: rgb(53, 179, 120);"><span style="outline: 0px;font-size: 21px;">6、血缘统计分析</span></h2><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">数据血缘构建完成后，我们可以做一些统计分析的操作，从不同层面查看数据的分布与使用情况，从而支撑业务更好更快更清晰。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">以我们团队举例，在工作过程中，我们需要以下血缘统计用于支撑数据业务，例如：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据节点下游节点数量排序，用于评估数据价值及其影响范围</strong></span><img class="rich_pages wxw-img" data-ratio="0.41944444444444445" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuI3sm1ffZMnC5473ZD7Jae2XC3xOsqZoY93nW9ibHqvykLXU6WjuQLog/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">查询当前节点的所有上游节点，用于业务追踪溯源</strong></span><img class="rich_pages wxw-img" data-ratio="0.3861111111111111" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KurWz1oHpo3KhIqk8bq6arUVCp1ROg1pywVYEDwsYrIgjs1g5AEyKOicw/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">数据节点输出报表信息详情统计，用于报表的上架与更新</strong></span><img class="rich_pages wxw-img" data-ratio="0.4166666666666667" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Ku3mUU9eeOxrZms8LLnZxVBstgXqlEfJajySRC3DIiauptcLbPqcmE4UQ/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 18px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">查询孤岛节点，即无上下游节点的节点，用于数据删除的依据</strong></span><img class="rich_pages wxw-img" data-ratio="0.3824074074074074" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4Ku8b5bzicZ44O7akUyUE76zUMa1c2lucFMe65fBQLyziauqrRFrfbjHtnA/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;font-size: 21px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;">7、血缘驱动业务开展</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">数据血缘构建完成，统计分析结果也有了，业务痛点也明确了，接下来我们即可利用数据血缘驱动业务更好更快开展。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">我们团队目前落地的血缘相关业务有以下几点：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（1）影响范围告警：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>将血缘关系与调度任务打通，监测当前血缘节点的调度任务，如果当前节点调度出现异常，则对当前节点的所有下游节点进行告警。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（2）异常原因探查：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>还是将血缘关系与调度任务打通，监测当前血缘节点的调度任务，如果当前节点调度出现异常，则会给出当前节点的直接上游节点，用于探查异常原因。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（3）异常链路一键恢复：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>基于上一应用，异常原因定位并且修复完成之后，可以通过血缘系统，一键恢复当前数据节点的所有下游节点调度任务，真正实现一键操作。</p><blockquote data-tool="mdnice编辑器" style="margin: 10px 5px;padding: 10px 10px 10px 20px;outline: 0px;border-left-color: rgb(53, 179, 120);color: rgb(97, 97, 97);font-size: 0.9em;border-top: none;border-bottom: none;overflow: auto;border-right: 0px solid rgb(53, 179, 120);quotes: none;background: rgb(251, 249, 253);"><p style="padding-top: 8px;padding-bottom: 8px;outline: 0px;font-size: 16px;color: black;line-height: 26px;">团队目前已经基于血缘系统构建出一整套的<strong style="outline: 0px;color: rgb(53, 179, 120);">异常调度影响范围告警-&gt;异常原因探查-&gt;异常链路一键恢复</strong>的故障响应修复机制。</p></blockquote><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（4）支撑数据下架：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>目前团队已经根据探查<strong style="outline: 0px;color: rgb(53, 179, 120);">孤岛节点</strong>即无上下游节点的节点，累计归档数据表628张，节省了13%的存储空间。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（5）数据质量监控：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>对当前血缘中所有节点输出的下有节点数量进行排序，可以精确的判断某张表的影响范围大小，从而可以根据此对高排序表进行数据质量的监控。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><img class="rich_pages wxw-img" data-ratio="0.43425925925925923" data-type="png" data-w="1080" style="outline: 0px;width: 677px !important;visibility: visible !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/9YTjAadqABx6LZLsQqmUtkhkbbEFN4KuPSuiaKjzf0XkQbYaN3Zb58JWxicLsdSuefKEkpRcWUvAPZpIQ9r7Kic2w/640?wx_fmt=png&amp;tp=wxpic&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"  /></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（6）数据标准化监控：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>如果当前公司制定了基于库、表、字段的命名规范，我们可以通过探查血缘中的所有数据节点，并命名规范进行匹配，得到不符合规范的库、表、字段进行整改。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">当然了，此业务仅基于元数据也可实现，放在此处属于博主强行升华了。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">（7）数据安全审计：</strong></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);"></strong>团队基于用户职级、部门、操作行为等权重对目前的库表进行了数据权限等级划分，权限等级越高，当前表的安全级别越高。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">团队基于血缘进行数据全链路的安全等级监测，如果发现下游节点安全等级低于上游节点，则会进行告警并提示整改。确保因为安全等级混乱导致数据泄露。</p><h1 data-tool="mdnice编辑器" style="margin-top: 1.2em;margin-bottom: 1em;outline: 0px;font-weight: bold;font-size: 24px;color: rgb(53, 179, 120);">八、血缘系统评价标准</h1><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">在推动数据血缘落地过程中，经常会有用户询问：血缘质量如何？覆盖场景是否全面？能否解决他们的痛点？做出来好用吗？</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">于是我也在思考，市面上血缘系统方案那么多，我们自建系统的核心优势在哪里，血缘系统的优劣从哪些层次进行评价，于是我们团队量化出了以下三个技术指标：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">1、准确率</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">定义：</strong>&nbsp;假设一个任务实际的输入和产出与血缘中该任务的上游和下游相符，既不缺失也不多余，则认为这个任务的血缘是准确的，血缘准确的任务占全量任务的比例即为血缘准确率。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">准确率是数据血缘中最核心的指标，例如影响范围告警，血缘的缺失有可能会造成重要任务没有被通知，造成线上事故。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">我们在实践中通过两种途径，尽早发现有问题的血缘节点：</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">人工校验：</strong>&nbsp;通过构造测试用例来验证其他系统一样，血缘的准确性问题也可以通过构造用例来验证。实际操作时，我们会从线上运行的任务中采样出一部分，人工校验解析结果是否正确。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">用户反馈：</strong>&nbsp;全量血缘集合的准确性验证是个漫长的过程，但是具体到某个用户的某个业务场景，问题就简化多了。实际操作中，我们会与一些业务方深入的合作，一起校验血缘准确性，并修复问题。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">2、覆盖率</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">定义：</strong>&nbsp;当有数据资产录入血缘系统时，则代表数据血缘覆盖了当前数据资产。被血缘覆盖到的数据资产占所有数据资产的比例即为血缘覆盖率。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">血缘覆盖率是比较粗粒度的指标。作为准确率的补充，用户通过覆盖率可以知道当前已经支持的数据资产类型和任务类型，以及每种覆盖的范围。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">在内部，我们定义覆盖率指标的目的有两个，一是我方比较关注的数据资产集合，二是寻找当前业务流程中尚未覆盖的数据资产集合，以便于后续血缘优化。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">当血缘覆盖率低时，血缘系统的应用范围一定是不全面的，通过关注血缘覆盖率，我们可以知晓血缘的落地进度，推进数据血缘的有序落地。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><span style="outline: 0px;color: rgb(53, 179, 120);font-weight: bold;letter-spacing: 0.05em;font-size: 21px;">3、时效性</span></p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;"><strong style="outline: 0px;color: rgb(53, 179, 120);">定义：</strong>&nbsp;从数据资产新增和任务发生修改的时间节点，到最终新增或变更的血缘关系录入到血缘系统的端到端延时。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">对于一些用户场景来说，血缘的时效性并没有特别重要，属于加分项，但是有一些场景是强依赖。不同任务类型的时效性会有差异。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">例如：故障影响范围告警以及恢复，是对血缘实时性要求很高的场景之一。如果血缘系统只能定时更新T-1的状态，可能会导致严重业务事故。</p><p data-tool="mdnice编辑器" style="margin: 1em 4px;padding-top: 8px;padding-bottom: 8px;outline: 0px;color: black;font-size: 16px;line-height: 26px;">提升时效性的瓶颈，需要业务系统可以近实时的将任务相关的修改，以通知形式发送出来，并由血缘系统进行更新。</p><section><span style="color: rgb(136, 136, 136);font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 12px;letter-spacing: 0.544px;text-align: justify;">参考文献：</span></section></section><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="outline: 0px;color: rgb(136, 136, 136);"><span style="outline: 0px;font-size: 12px;">&nbsp;&nbsp;[1]&nbsp;</span></span><span style="outline: 0px;color: rgb(136, 136, 136);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;">杨明</span></span><span style="outline: 0px;color: rgb(136, 136, 136);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;">皓:数据血缘的管控方法及应用场景</span></span></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;color: rgb(136, 136, 136);">&nbsp; [2] Michael Adjei:什么是数据血缘？数据血缘的五大好处</span></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;color: rgb(136, 136, 136);">&nbsp; [3]&nbsp;李俊杰:2022 数据血缘基本指南</span></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;color: rgb(136, 136, 136);">&nbsp; [4] 字节跳动:详解数据血缘的「整体设计」与「评价方案」</span></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: start;font-size: 12px;color: rgb(136, 136, 136);">&nbsp; [5] twt社区:基于图数据库的元数据血缘关系分析技术研究与实践</span></p><section class="mp_profile_iframe_wrp"><mp-common-profile class="custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、指标体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。关注我，和您一起终身学习。" data-from="0" data-weui-theme="light"></mp-common-profile></section><p style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></content>
</div>
</body>
</html>