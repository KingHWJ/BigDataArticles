<html>
<head>
<title></title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;overflow:hidden;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:13px;padding-bottom:13px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;padding:0 0 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:0px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:#a5a5a5;}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size: 15px;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}#copyright_logo{color:#bdbdbd;}.rich_media_meta_list{margin-bottom:10px;}.reprint{background:#efefef;border-radius:5px;padding:8px;color:#1f1f1f;}.reprint a{word-break:break-all;}.topic{color:#8e8e8e;background:#f7f7f7;border-radius:5px;padding:10px 8px;}.topic a{padding-right:5px;}.topic p{margin-bottom:5px;}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head><script>
var data={"mp":"数据治理体系","title":"数据仓库SCD详解","time":"2023-06-25 08:15:28","timeStamp":"1687652128"};
</script>
<body>
<div class="rich_media"><h1 class="rich_media_title" id="activity-name"><a href="http://mp.weixin.qq.com/s?__biz=MzA3NjIzNjMwOA==&mid=2247495655&idx=1&sn=9f2fb10ee29dec2701848bd7693f1f90&chksm=9f66fc9ca811758a04ba2c065a1d612853c14547e32f4719220636aebf4cd062bab305fe17cf#rd" target="_blank">数据仓库SCD详解</a></h1><div id="meta_content" class="rich_media_meta_list"><span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);" class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" id="js_name">数据治理体系&nbsp;&nbsp;</a></span><em id="publish_time" class="rich_media_meta rich_media_meta_text">2023-06-25 08:15:28</em></div><content><div class="topic"><p>收录于话题</p><p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2089432008870379524#wechat_redirect" title="数据仓库" target="_blank">#数据仓库</a></p></div><section class="mp_profile_iframe_wrp" data-mpa-powered-by="yiban.io"><mp-common-profile class="custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、指标体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。关注我，和您一起终身学习。" data-from="0" data-weui-theme="light"></mp-common-profile></section><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: right;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-size: 10px;">来源：网络侵删</span></h3><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">什么是缓慢变化维？</span></h3><p data-pid="fO2m3AQ1" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">要解释缓慢变化维，必须先解释什么是<span style="font-synthesis: style;font-weight: 600;">维度</span>。</p><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">什么是维度？</span></h3><p data-pid="D9IWO6DG" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在数据仓库的DW层中，表根据用途往往会分为2个类型：<span style="font-synthesis: style;font-weight: 600;">FACT</span>（事实表）和&nbsp;<span style="font-synthesis: style;font-weight: 600;">DIM</span>（维度表）。</p><p data-pid="BLtdjKKD" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">举个例子，如果我们要描述一个餐饮过程：</p><pre style="overflow-wrap: initial;background: rgb(246, 246, 246);border-radius: 4px;font-size: 0.9em;overflow: auto;padding: calc(0.888889em);word-break: initial;"><code style="background-color: inherit;border-radius: 0px;font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;font-size: inherit;">`小明 2020年4月19日下午3点20分 在 海底捞(万达广场) 吃了5道菜，每道菜的单价是4元，总价是20元。`</code></pre><p data-pid="J4SCuXSa" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">那么这个过程在数仓中，会如此划分：</p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>fact：餐饮过程，单价、数量、总价</p></li><li style="list-style: none;display: table-row;"><p>dim：小明，餐饮时间，餐饮门店，菜名。</p></li></ul><p data-pid="GcSDKQE7" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">也就是说：吃了多少东西，多少钱——这些属于fact；在哪里吃、什么时候吃？这些属于dim。</p><p data-pid="IiCHH9wM" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">下面是简单的ER图，方便大家更好的理解。</p><blockquote data-pid="frN9aexo" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">黄色为事实表，蓝色的就是维度表。</blockquote><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.5259259259259259" data-type="other" data-w="1080" height="652" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="1240" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugwkuw2hMTk5Z93omcoxFUYjOic6QBBsng5SVVZyHy44gbyetLuz0o1gA/640?wx_fmt=other"  /></figure><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">什么是缓慢变化维？</span></h3><p data-pid="-MGYpuzD" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">正如上述所言，我们会将分析的各种角度，存放在维度表中。但正如每个人所见，维度里的数据是可能发生变化的——尽管可能跨越极久。</p><p data-pid="V54_w9EC" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">举2个例子：</p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>客户的性别变更<br data-filtered="filtered"  />可能在第一次登陆中，我们得到的信息是 该客户性别为男。<br data-filtered="filtered"  />但在几年的客户再一次使用中，我们又得到该客户的性别为女。<br data-filtered="filtered"  />这就是维度值的一种变化可能<br data-filtered="filtered"  />性别一般并不会改变，所以大概率是其中的一次数据有误。但也有可能是客户做了变性手术。</p></li><li style="list-style: none;display: table-row;"><p>雇员的部门更替<br data-filtered="filtered"  />假定有一个雇员叫小杨，他最早是负责运营的——此时他的title是"商品运营助理"；但因为某些原因，他转组成为数据组的一员，这时title就变成了"数据分析专员"。<br data-filtered="filtered"  />这是缓慢变化维的一种常见可能</p></li></ul><p data-pid="15RqR8Hr" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">上面提到的这些数据变化，业务系统(CRM、OA等)往往并不会保留历史数据。但在分析角度，我们是一定要保留这些改变的痕迹。这种随着时间可能会缓慢变化的维度，就是&nbsp;<span style="font-synthesis: style;font-weight: 600;">缓慢变化维</span>、也就是&nbsp;<span style="font-synthesis: style;font-weight: 600;">SCD</span>（Slowly Changing Dimensions）</p><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">常见的处理方法</span></h3><blockquote data-pid="qiLOOPYE" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">kimball整理的处理方法一共有8种，但往往只有3种被详细使用。</blockquote><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型1 重写</span></h3><p data-pid="SJjWav4w" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">与业务数据保持一致，直接update为最新的数据。</span></p><p data-pid="Ct3vMzaK" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这种方法主要应用于以下两种情况：</p><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>数据<span style="font-synthesis: style;font-weight: 600;">必须正确</span>——例如用户的身份证号，如需要更新则说明之前录入错误。</p></li><li style="list-style: none;display: table-row;"><p>无需考虑历史变化的维度——例如用户的头像url，这种数据往往并<span style="font-synthesis: style;font-weight: 600;">没有分析的价值</span>。因此不做保留。</p></li></ol><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.44719101123595506" data-s="300,640" data-type="png" data-w="445" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugvCJBNdkS6pw0PIsjVgfdS8d9FPjpzzAZv2W18gxp0OsKYdpePA6vNw/640?wx_fmt=png"  /></p><p data-pid="CB_7Emfa" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这种处理方式的优缺点：</p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>优点：</p></li><ul style="width: 689.991px;display: table-row;list-style-type: square;" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>简化ETL——直接update即可。</p></li><li style="list-style: none;display: table-row;"><p>节省存储空间——其他存储方法都占用更多空间。</p></li></ul><li style="list-style: none;display: table-row;"><p>缺点：</p></li><ul style="width: 689.991px;display: table-row;list-style-type: square;" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>无法保留历史痕迹——万一有天想分析呢？</p></li></ul></ul><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型2 增加新行</span></h3><p data-pid="v3ckaBgQ" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">更新历史数据时间戳，新增新行记录新值。</span></p><p data-pid="7mSZiX0y" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这种方法主要用于&nbsp;<span style="font-synthesis: style;font-weight: 600;">仅需要保存历史数据</span>&nbsp;的业务场景</p><p data-pid="v1ZQ8aWL" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">具体的ETL则如下：</p><blockquote data-pid="Yav0kVR7" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">自然键</span>即指有业务意义的唯一ID，例如用户ID、身份证号等。<span style="font-synthesis: style;font-weight: 600;">代理键</span>则可以简单理解为该表的自增ID值</blockquote><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>自然键第一次出现时。<br data-filtered="filtered"  />新增一行数据，created为业务系统的创建时间，updated为9999-12-31<br data-filtered="filtered"  />数仓的规范不允许数据存在NULL值的情况，因此用9999-12-31代替</p></li></ul><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.06735266604303088" data-s="300,640" data-type="png" data-w="1069" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugjjph08nEiczVQg8glH66REA0NZGRV6PMPIR1K7yQuE5nYc5uuzQ4jSA/640?wx_fmt=png"  /></p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>类型2的维度发生变化时</p></li></ul><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>将自然键当前记录的<span style="font-synthesis: style;font-weight: 600;">updated由9999-12-31刷为最新时间</span></p></li><li style="list-style: none;display: table-row;"><p>新增一行记录，记录最新的数据，created为最新时间，updated为&nbsp;<span style="font-synthesis: style;font-weight: 600;">9999-12-31</span></p></li></ol><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.29523809523809524" data-type="other" data-w="1050" height="310" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="1050" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugZTq8NeeO20lZMUDO1pthtibTiaPfCJheWXB104L3l8Gju9sKQH9Lj4kw/640?wx_fmt=other"  /></figure><p data-pid="U7D9mwEZ" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这样一来，因为事实表存储的是维度表的<span style="font-synthesis: style;font-weight: 600;">代理键</span>而非自然键，因此在历史数据的查询中会以<span style="font-synthesis: style;font-weight: 600;">历史的维度值</span>进行计算。同时在维度值更新后的相关数据自然使用的是新的<span style="font-synthesis: style;font-weight: 600;">代理键</span>。完美的解决了大部分缓慢变化维情况。</p><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型3 增加当前值属性</span></h3><p data-pid="BzwBvApQ" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在大部分的维度模式中，很多的源数据变化将产生<span style="font-synthesis: style;font-weight: 600;">类型1</span>和<span style="font-synthesis: style;font-weight: 600;">类型2</span>变化。有时两种技术都不能满足需求——当需要分析所有&nbsp;<span style="font-synthesis: style;font-weight: 600;">伴随着新值或旧值的变化前后</span>&nbsp;记录的事实时，需要采用<span style="font-synthesis: style;font-weight: 600;">类型3</span>变化。</p><p data-pid="rPI67Gb9" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">很多人都难以理解类型3的重要性，因此笔者举一个例子——一个无法用<span style="font-synthesis: style;font-weight: 600;">类型1</span>和<span style="font-synthesis: style;font-weight: 600;">类型2</span>处理的例子：</p><blockquote data-pid="eJ51kGXN" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">假定一家公司的销售是按照销售区域进行分组：<br data-filtered="filtered"  /></blockquote><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.26517571884984026" data-s="300,640" data-type="png" data-w="626" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugykibGHD4HLPHoJ6HvroQqEQJicFcb3t2Q8EI4jEJXuYYscPqLhMbIqHQ/640?wx_fmt=png"  /></p><blockquote data-pid="0zoQvQqX" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">突然有一天，领导灵机一动，决定 精细化销售，将东部、南部、北部重新划分为东南、东北部<br data-filtered="filtered"  /></blockquote><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.2650793650793651" data-s="300,640" data-type="png" data-w="630" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugiaUdwXryDft3bzd7GRoP6DZR97g6eeAtQEZM108gGgc8w7PZGfqzuiag/640?wx_fmt=png"  /></p><blockquote data-pid="Z7xIxyjq" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">但由于发送的过于仓促，因此销售人员是立刻使用了新的部门划分；但同样希望保留旧的名称——至少要暂时保留，用以比较今年和去年的业绩。即：<br data-filtered="filtered"  /></blockquote><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>拥有使用 新区域 分析所有事实的能力，无论变化前还是变化后</p></li><li style="list-style: none;display: table-row;"><p>拥有使用 旧区域 分析所有事实的能力，无论变化前还是变化后</p></li></ul><p data-pid="aoGATCND" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">第一个需求——新区域分析——允许立即采用新的分组，所有历史订单都能分为东南、东北等新类别；<br data-filtered="filtered"  />第二个需求——旧区域分析——允许公司采用旧分组，所有的订单可以根据旧值分组——就好像一切都没发生过变化。</p><p data-pid="Cd5oPeUB" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这时，就会发生一些问题：先前的技术不适合——无论是类型1还是类型2，都不能同时满足这两个需求；</p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>类型1可以满足第一种需求，使用新值写旧值。但显然它无法实现第二个需求；</p></li><li style="list-style: none;display: table-row;"><p>类型2则更糟，它不能满足任意一个需求——旧的事实和旧的维度相连；而新的维度值和以后的事实相连。毫无疑问，它既不能分析<span style="font-synthesis: style;font-weight: 600;">旧数据</span>、也不能分析<span style="font-synthesis: style;font-weight: 600;">新数据</span>。</p></li></ul><p data-pid="PSxandJO" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">此时引入&nbsp;<span style="font-synthesis: style;font-weight: 600;">类型3</span>&nbsp;处理方法：新增字段同时<span style="font-synthesis: style;font-weight: 600;">储存新旧值</span>。</p><p style="margin-top: -0.8em;margin-bottom: -0.8em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><br data-filtered="filtered"  /></p><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.21254801536491677" data-s="300,640" data-type="png" data-w="781" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugyqXFN4hE0OJrRicfL0pchWMJ56HdgIwHJgOWfOibMCLoJ6FTd9IXPuYA/640?wx_fmt=png"  /></p><blockquote data-pid="0VItIkpu" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">如果发生第二次变化，当前的current会被更新到previous中，新的变化值则会写入current。</blockquote><p data-pid="EegKKorj" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">类型3 不保存事实的历史内容</span></p><p data-pid="BMeD-pvF" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">需要注意的是，类型3 的改变往往并不是一个仅此一次的过程——它能发生1次就有可能发生2次甚至更多次。类型3 变化只保护变化属性的一个旧版本，一旦发生第二次变化，第一次变化前的值就要被废弃了。如果想要用变化3 来实现更多的版本，那只能增加更多的列来实现（例如dpt_2018,dpt_2019）——这无疑是非常愚蠢的。因此，除非特定需要，应尽量避免使用类型3的变化。</p><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">其他类型</span></h3><p data-pid="O92jNCm6" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">剩下的5种类型基本都不被采用，但值得一提。</p><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型0 不做调整</span></h3><p data-pid="Kog-6GdK" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这里的数据定义与类型1类似，但不同点在于 类型0绝不允许ETL对该维度进行更新——你真要改的话就<span style="font-synthesis: style;font-weight: 600;">手动改表</span>吧。</p><blockquote data-pid="6XgThenj" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">例如数仓中的代理键</blockquote><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型4 微型维度</span></h3><p data-pid="kVmFqOpS" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">当<span style="font-synthesis: style;font-weight: 600;">变化频率加快</span>时候，并且<span style="font-synthesis: style;font-weight: 600;">维度表包含几百万行</span>的维度表。如果对变化的跟踪采用可靠的SCD2技术对浏览和查询性能具有负面影响——太多行且无必要。采用新的<span style="font-synthesis: style;font-weight: 600;">独立</span>的维度表消除频繁分析或者频繁变化的属性，这一维度技术叫做微型维度。</p><p data-pid="wQhqh2Tq" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">例如employee的 年龄、薪资、税收金额</p><blockquote data-pid="AdZCrTTC" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">年龄每年一变，薪资、税收金额也经常改变</blockquote><p data-pid="igCvJeyn" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这里要注意：</p><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>这些“易变化”的值并非存储其准确的值，而是其范围值；<br data-filtered="filtered"  />例如年龄，我们不会存“23"，而是会存"20-30"。收入我们不会存”999“，而是”0-1000“。如果存准确值的话，数据量会过于高。从分析角度，我们往往也只需要一个模糊的范围即可。<br data-filtered="filtered"  />如果需要记录准确值，可以考虑使用&nbsp;<span style="font-synthesis: style;font-weight: 600;">无事实的事实表</span>&nbsp;单独记录。</p></li><li style="list-style: none;display: table-row;"><p>微型维度<span style="font-synthesis: style;font-weight: 600;">没有自然键</span>，只有值的笛卡尔积组合。<br data-filtered="filtered"  />你不会在表中看到 user_id 这种自然键，因此类型4中微型维度只能在事实表中出现。<br data-filtered="filtered"  />如果想把维度表和相关的微型维度连起来，那就是类型5了。</p></li></ol><p data-pid="RM1YtjU5" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">常见的微型维度表结构：</p><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.4965277777777778" data-type="other" data-w="576" height="286" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="576" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugRajTqP9AebZS0kkvcPXgeoAQYU2PsAibqNfexlF60E2HE7AtG025cyg/640?wx_fmt=other"  /></figure><blockquote data-pid="zUPGW_C3" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">可以看到，该微型维度是由 年龄和薪资的笛卡尔积组合构成。<br data-filtered="filtered"  />你可以在建立时就将所有可能组合都预计算存入——缺点是表一开始就较大，但优点是省去了ETL的功夫<br data-filtered="filtered"  />也可以出现一个存一个，维度表的稀疏性表明了实际数据量并不会那么多。</blockquote><p data-pid="JqnBCO-O" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">常见的维度表、微型维度、事实表组合：查看餐饮时雇员的职位和年龄。</p><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.26353790613718414" data-type="other" data-w="831" height="219" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="831" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugYnDNIaac5icghtTGsibbIbh2oMmElpCGwM0saFqvLnSJ4tafiaMUVL7Ow/640?wx_fmt=other"  /></figure><blockquote data-pid="xpF3xygi" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">可以看到，微型维度表与维度表通过事实表相连，并<span style="font-synthesis: style;font-weight: 600;">不直接连接</span>。</blockquote><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型5 类型1+微型维度</span></h3><p data-pid="AvlfDFTX" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">类型5，即是将类型4与类型1组合起来的方法合并。该技术的特点是增加<span style="font-synthesis: style;font-weight: 600;">当前微型维度主键</span>作为主维度的一个属性。该属性在主维度中以<span style="font-synthesis: style;font-weight: 600;">类型1</span>进行变化更新——从而避免主维度表行的爆炸增长</p><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.2855543113101904" data-type="other" data-w="893" height="255" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="893" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnughicauicLzAUes2krlGcWIpHiabeicQ4dXluP46yRKGcgVXzZJN3jXJr16A/640?wx_fmt=other"  /></figure><p data-pid="U8iU8XnL" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这样一来：</p><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>可以从主维度表获取到其对应的微型维度数据——虽然只有<span style="font-synthesis: style;font-weight: 600;">最新</span>的。</p></li><li style="list-style: none;display: table-row;"><p>可以从相关事实表中获取微型维度<span style="font-synthesis: style;font-weight: 600;">历史变更</span>的信息。</p></li></ol><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型6 类型1+类型2+类型3</span></h3><p data-pid="OnseMlhJ" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">类型6，即是将类型1、2、3的联合使用。</p><p data-pid="6zyQ9AaD" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">主要解决的业务场景是：</p><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>该维度列<span style="font-synthesis: style;font-weight: 600;">变化频次较高</span>，但即使这样也希望<span style="font-synthesis: style;font-weight: 600;">历史业务能以最新的值来分析</span>。</p></li><li style="list-style: none;display: table-row;"><p>无法确定每次该维度的变更时间。</p></li><li style="list-style: none;display: table-row;"><p>希望保留历史数据方便追溯</p></li></ol><p data-pid="86It1oQY" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">下图为例：</p><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.4291044776119403" data-type="other" data-w="1072" height="460" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="1072" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugEu6toRosHjUMzsfDIr0Z1icKkaFicSIicaDwX4C4BoibcFwx76Xsn3SEZQ/640?wx_fmt=other"  /></figure><p data-pid="anho_OGE" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">ETL步骤：</p><ol style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;counter-reset: ol 0;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>记录需要如此处理的列，分别创建previous和current两列。</p></li><li style="list-style: none;display: table-row;"><p>新数据插入时，current = previous.</p></li><li style="list-style: none;display: table-row;"><p>该列有新值时</p></li></ol><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p>历史previous使用类型2方法处理——旧数据只处理updated，新行存储新值。</p></li><li style="list-style: none;display: table-row;"><p>当前current使用类型1方法处理——所有该自然键的值都刷成最新值。</p></li></ul><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">类型7 双类型1+类型2</span></h3><p data-pid="zDfxRWNC" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在上面的类型6有一个缺点——需要额外增加一个current列。</p><p data-pid="0e3NvuQr" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">如果有大量的维度都需要如此处理的话就会有问题：假定该维度表有150列，如果我们都用类型6处理，则会变成300列——这无疑是令人无法接受的。</p><p data-pid="wARc_95D" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">类型7就是 解决以上困难的。有很多种实现方法，下面会介绍2种比较常见的</p><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p><span style="font-synthesis: style;font-weight: 600;">双重外键——应用于类型1&amp;类型2的维度表</span><br data-filtered="filtered"  />事实表对于该维度表存储<span style="font-synthesis: style;font-weight: 600;">2个外键</span>，如下图<br data-filtered="filtered"  /></p></li></ul><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.25353535353535356" data-type="other" data-w="990" height="251" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="990" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugKClZ6T6eibxqmMRSEiaibL2Tf4E4uq3Jpcm0aDTu2nEvpNV3ZJDurI25Q/640?wx_fmt=other"  /></figure><p style="margin-top: -0.8em;margin-bottom: -0.8em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><br data-filtered="filtered"  /></p><p data-pid="iVKPMJ2V" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这么一来，如果想要了解雇员在用餐发生瞬间<span style="font-synthesis: style;font-weight: 600;">历史的状态</span>，关联至左边的维度表即可得知；如果想要以雇员<span style="font-synthesis: style;font-weight: 600;">最新的状态</span>进行分析。则直接取右边的表即可。</p><p data-pid="J4aeNO0N" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">最新视图获取</span>：右边表可以通过<span style="font-synthesis: style;font-weight: 600;">视图</span>展示（比如只取updated == '9999-12-31'的数据），也可以生成一个<span style="font-synthesis: style;font-weight: 600;">实际表</span>来存储。</p><p data-pid="oFVXvYVo" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;font-weight: 600;">视图主键ID</span>：对应的主键current_employee_id则有多种取法，笔者建议使用<span style="font-synthesis: style;font-weight: 600;">超自然键</span>，如系统无超自然键的话也可以用普通的<span style="font-synthesis: style;font-weight: 600;">自然键</span>来替代。</p><blockquote data-pid="rls8T9n4" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">超自然键：更为持续的自然键；一般自然键是由OLTP系统生成，但他们有可能发生改变——例如员工离职又入职，他的userid自然会变化。因此，完整的OLAP系统会自己生成一个和实际事务对应的自然键——即超自然键。</blockquote><ul style="margin-top: 1.4em;margin-bottom: 1.4em;width: 689.991px;display: table;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);" class="list-paddingleft-1"><li style="list-style: none;display: table-row;"><p><span style="font-synthesis: style;font-weight: 600;">单外键</span><br data-filtered="filtered"  />也可以更节省一些——事实表连外键都不需要增加。</p></li></ul><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.2740286298568507" data-type="other" data-w="978" height="268" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="978" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnug6Qual8OGhJTl6GOn9C596SxIAt3DMWa46TePric8yLrssE8dUNGOukA/640?wx_fmt=other"  /></figure><p data-pid="lTlr7_-v" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这种处理方法的主要难点在于右表——不再只需一个自然键。</p><p data-pid="8h2Dw9CS" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">下图是左表（实际维度表）的变化——标准的类型1&amp;类型2</p><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.26283367556468173" data-s="300,640" data-type="png" data-w="974" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugniamia51C0fyFbicDzb9iaAVamic6GdXVzOxz0ykb7uggvicVosiaLBBKXibcw/640?wx_fmt=png"  /></p><p data-pid="m1X43_uQ" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">下图是右表（最新视图）的变化</p><p style="text-align: center;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.17618110236220472" data-s="300,640" data-type="png" data-w="1016" style="height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugZsg5OuxdsAVPBqhic25ia7ajAicMqnsmkKcRq0nm92rWxfjnmRer41l5g/640?wx_fmt=png"  /></p><p data-pid="3AOGJaRV" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">可以看到，在右表的所有相关字段中，维度列无论是类型1、2都更新成了<span style="font-synthesis: style;font-weight: 600;">最新</span>的值。</p><blockquote data-pid="fZMeiqif" style="border-left-color: rgb(211, 211, 211);color: rgb(100, 100, 100);margin-top: 1.4em;margin-bottom: 1.4em;padding-left: 1em;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">双重外键的处理方法需要事实表多一个值，单重外键则需要ETL制造出一个存储最新值的维度表（逻辑较复杂，且查询会较慢）。具体采用哪种方法需要视具体业务场景</blockquote><h3 style="font-variant-numeric: inherit;font-variant-east-asian: inherit;font-weight: 600;font-stretch: inherit;font-size: 1.1em;line-height: 1.5;font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;margin-top: calc(1.90909em);margin-bottom: calc(1.27273em);clear: left;font-synthesis: style;color: rgb(18, 18, 18);letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-synthesis: style;">总结</span></h3><p data-pid="IRhqoWvC" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">对以上类型做一个总结</p><figure data-size="normal" style="margin-top: 1.4em;margin-bottom: 1.4em;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><img class="rich_pages wxw-img" data-ratio="0.3148148148148148" data-type="other" data-w="1080" height="366" style="display: block;margin-right: auto;margin-left: auto;cursor: zoom-in;background-color: transparent;animation: 0.5s ease-in 0s 1 normal none running animation-1yvu044;height: auto !important;" width="1161" src="https://mmbiz.qpic.cn/mmbiz_jpg/hXibVSNciaXhyR7J7QkoHx9KRwxicVbKnugkrE98MAG5W3KsIy1EAPhRIjmZW8nmZePK6sticUoX1ZXmDV6RmBj75Q/640?wx_fmt=other"  /></figure><p data-pid="zsm33c8c" style="margin-top: 1.4em;margin-bottom: 0px;color: rgb(18, 18, 18);font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;font-size: medium;letter-spacing: normal;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">缓慢变化维的处理，可以说是数仓的最基本能力要求之一。类型1、2、3是基本；类型4、5、6、7则是拓展。</p><section class="mp_profile_iframe_wrp"><mp-common-profile class="custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzA3NjIzNjMwOA==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/hXibVSNciaXhzia07WkYkDfaRxHUiaDaNc5x3xTNO1RlNBRhPnxpEzoemhsn7ofat4pVwVgOktaveEtu6IKzzLONQQ/0?wx_fmt=png" data-nickname="数据治理体系" data-alias="DGsystem" data-signature="持续完善数据治理实战体系，数据仓库、标签、指标体系，实现业务数字化，数字资产化，资产业务化，资产资本化；回归业务场景的数字化案例才最具参考价值，最容易理解和借鉴的。关注我，和您一起终身学习。" data-from="0" data-weui-theme="light"></mp-common-profile></section><p style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></content>
</div>
</body>
</html>