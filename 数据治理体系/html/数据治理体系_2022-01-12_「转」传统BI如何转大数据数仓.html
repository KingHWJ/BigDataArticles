<html>
<head>
<title></title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<style>
*{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}img{z-index:999;position:relative;max-width:100%;margin:10px 0;}body{letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}td,th{word-wrap:break-word;padding:5px 10px;border:1px solid #DDD;}table{margin-bottom:10px;border-collapse:collapse;display:table;width:100%!important;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}@media (max-width:375px){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner,body{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media{padding:20px;overflow:hidden;}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-1,.rich_media_content .list-paddingleft-2,.rich_media_content .list-paddingleft-3{padding-left:2.2em}.rich_media_content .list-paddingleft-1 .list-paddingleft-2,.rich_media_content .list-paddingleft-2 .list-paddingleft-2,.rich_media_content .list-paddingleft-3 .list-paddingleft-2{padding-left:30px}.rich_media_content .list-paddingleft-1{padding-left:1.2em}.rich_media_content .list-paddingleft-3{padding-left:3.2em}.rich_media_content .code-snippet,.rich_media_content .code-snippet__fix{max-width:1000%!important}.rich_media_content .code-snippet *,.rich_media_content .code-snippet__fix *{max-width:1000%!important}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:13px;padding-bottom:13px;border-bottom:1px solid #e7e7eb;}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta{display:inline-block;vertical-align:middle;padding:0 0 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:0px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta_text{color:#a5a5a5;}p{margin:0;}.msgBox{margin-top:20px;padding-top:20px;padding-left:50px;overflow:hidden;border-top:2px dashed #09a2ff;}.msg{padding-top:7px;clear:both;}.msgBody{float:right;width:100%;margin-left:55px;padding-bottom:15px;border-bottom:1px dashed #e0e0e0;}.userHeadImg{float:left;margin-left:-50px;}.userHeadImg img{width:40px;height:40px;margin-right:10px;border-radius:3px;}.userName{color:#888888;line-height:24px;font-size:14px;margin:5px 0 5px 0;height:24px;}.replyBody,.autherBody{color:#565656;font-size:15px;}.replyIcon{border-left:4px solid #33ab01;margin-right:5px;}.ad{text-decoration:none;color:#d6d4d4;font-size:12px;}.msgBodyReply{padding-top:5px;}.userName span{float:right;color:#afafaf;font-size:14px;}code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;}.code-snippet__fix{font-size:14px;margin:10px 0;display:block;color:#333;position:relative;background-color:rgba(0,0,0,0.03);border:1px solid #f0f0f0;border-radius:2px;display:-webkit-box;display:-webkit-flex;display:flex;padding-left:25px;line-height:26px}.code-snippet__fix code{text-align:left;font-size:14px;display:block;white-space:pre;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace}.code-snippet__comment,.code-snippet__quote{color:#afafaf;font-style:italic}.code-snippet__keyword,.code-snippet__selector-tag,.code-snippet__subst{color:#ca7d37}.code-snippet__number,.code-snippet__literal,.code-snippet__variable,.code-snippet__template-variable,.code-snippet__tag .code-snippet__attr{color:#0e9ce5}.code-snippet__string,.code-snippet__doctag{color:#d14}.code-snippet__title,.code-snippet__section,.code-snippet__selector-id{color:#d14}.code-snippet__subst{font-weight:normal}.code-snippet__type,.code-snippet__class .code-snippet__title{color:#0e9ce5}.code-snippet__tag,.code-snippet__name,.code-snippet__attribute{color:#0e9ce5;font-weight:normal}.code-snippet__regexp,.code-snippet__link{color:#ca7d37}.code-snippet__symbol,.code-snippet__bullet{color:#d14}.code-snippet__built_in,.code-snippet__builtin-name{color:#ca7d37}.code-snippet__meta{color:#afafaf}.code-snippet__deletion{background:#fdd}.code-snippet__addition{background:#dfd}.code-snippet__emphasis{font-style:italic}.code-snippet__strong{font-weight:bold}.account_avatar{width:40px;height:40px;padding:0;}.account_info{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;padding:20px 0;align-items:center}.flex_bd{padding-left:14px;}.account_nickname{display:inline-block;vertical-align:middle;line-height:1.2;color:#576b95;font-size:14px}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:rgba(0,0,0,0.3);font-size:14px;line-height:1.2;padding-top:.4em}.msg_source_url{text-align:left;word-break:break-all;margin-top:20px;}.msg_source_url a{padding-right:10px;}.msg_source_url .url_text{color:#a8a8a8;}.video-desc{font-size:14px;margin-top:15px;color:#6c6c6c;}.msg_source_url{text-align:left;}.original_primary_card_tips{color:rgba(0,0,0,0.3);line-height:1.4;font-size:15px;}.weui-flex__item{margin-bottom:20px;padding:20px 16px;margin-top:16px;line-height:1.4;align-items:center;background-color:#f7f7f7;border-radius:8px;position:relative;}.original_primary_desc{color:rgba(0,0,0,0.5);font-size:14px;padding-top:4px;width:auto;overflow:hidden;text-overflow:ellipsis;}.msgBodyReplyList{border-top:1px solid #e1e1e1;margin-top:10px;}.msgBodyReplyListTop{border-top:0;}.reply_like_num{float:right;font-size:14px;color:#c7c7c7;}.msgData{margin-top:20px;color:#626262;}.msgData span{font-size:14px;padding-right:15px;}.msgData .likes{float:right;padding-right:0;}.js_text_content p{font-size:18px;}.rich_media_meta_link{font-size:15px;}blockquote {padding-left: 10px;border-left: 3px solid #dbdbdb;color: rgba(0,0,0,0.5);font-size: 15px;padding-top: 4px;margin: 1em 0;}.video_iframe{width:500px;height:400px;}.blockquote_info{color:#b5b5b5;margin-top:10px;}#copyright_logo{color:#bdbdbd;}.rich_media_meta_list{margin-bottom:10px;}.reprint{background:#efefef;border-radius:5px;padding:8px;color:#1f1f1f;}.reprint a{word-break:break-all;}.topic{color:#8e8e8e;background:#f7f7f7;border-radius:5px;padding:10px 8px;}.topic a{padding-right:5px;}.topic p{margin-bottom:5px;}
</style>
<link href="https://www.juyifx.cn/config/css/wxArticle.css" rel="stylesheet"/>
</head><script>
var data={"mp":"数据治理体系","title":"传统BI如何转大数据数仓","time":"2022-01-12 07:41:14","timeStamp":"1641944474"};
</script>
<body>
<div class="rich_media"><h1 class="rich_media_title" id="activity-name"><a href="http://mp.weixin.qq.com/s?__biz=MzA3NjIzNjMwOA==&mid=2247485571&idx=1&sn=6ab0c5bd63a333797584f2d37793f118&chksm=9f651bf8a81292ee20e40da71462fb489d927fdd79ab94274ba1d37b076158fcff0f6e5fec15#rd" target="_blank">传统BI如何转大数据数仓</a></h1><div id="meta_content" class="rich_media_meta_list"><span class="rich_media_meta rich_media_meta_text">数据社&nbsp;&nbsp;</span><span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);" class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" id="js_name">数据治理体系&nbsp;&nbsp;</a></span><em id="publish_time" class="rich_media_meta rich_media_meta_text">2022-01-12 07:41:14</em></div><content><div class="reprint"><p>转自公众号：数据社<br><a href="http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&mid=2649369706&idx=1&sn=7ab9b3e154017dc9fdfecb2bd6d29a70" target="_blank" title="阅读原文">http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&mid=2649369706&idx=1&sn=7ab9b3e154017dc9fdfecb2bd6d29a70</a></p></div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="padding-right: 10px;padding-left: 10px;letter-spacing: 0px;white-space: normal;line-height: 1.6;word-break: break-word;text-align: left;font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;font-size: 16px;" data-mpa-powered-by="yiban.io"><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="padding-right: 10px;padding-left: 10px;line-height: 1.6;letter-spacing: 0px;word-break: break-word;text-align: left;font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;"><section data-role="outer" label="Powered by 135editor.com" style="color: black;font-size: 16px;"><section data-tools="135编辑器" data-id="95966"><section style="text-align: left;margin:10px auto;"><span style="letter-spacing: 0px;">今天给大家推荐一篇一哥的如何<span style="color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;font-size: 16px;text-align: left;">从传统数据仓库</span>快速转到大数据数据。</span><span style="letter-spacing: 0px;"></span></section></section></section><section data-mpa-template="t" mpa-from-tpl="t" style="color: black;font-size: 16px;"><section data-mpa-template="t" mpa-from-tpl="t"><section data-role="outer" style="font-size: 16px;" mpa-from-tpl="t"><section data-id="86134" style="border-width: 0px;border-style: none;border-color: initial;" mpa-from-tpl="t"><section style="text-align: center;" mpa-from-tpl="t"><section style="background-color: rgb(254, 254, 254);padding-right: 10px;padding-left: 10px;display: inline-block;" mpa-from-tpl="t"><span style="font-size: 28px;"><strong mpa-from-tpl="t"><span style="color: rgb(69, 30, 232);">1</span></strong></span> </section><section style="margin-top: -1.2em;margin-bottom: 0.65em;" mpa-from-tpl="t"><section style="border-top: 1px solid rgb(32, 32, 236);border-right-color: rgb(32, 32, 236);border-bottom-color: rgb(32, 32, 236);border-left-color: rgb(32, 32, 236);width: 60px;margin-right: auto;margin-left: auto;" data-width="20%" mpa-from-tpl="t"><br mpa-from-tpl="t"  /> </section></section><p><span style="font-size: 20px;"><span style="font-size: 20px;color: rgb(35, 35, 230);" data-brushtype="text">数据仓库</span> </span></p></section></section></section></section></section><p style="color: black;font-size: 16px;"><br mpa-from-tpl="t"  /></p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">数据仓库：数据仓库系统的主要应用主要是OLAP（On-Line Analytical Processing），支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。也就是说，数据仓库汇总有可能有很多维度数据的统计分析结果，取百家之长（各个数据源的数据），成就自己的一方天地（规划各种业务域的模型，指标）。可以参考之前的文章《<a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&amp;mid=2649360704&amp;idx=1&amp;sn=a45ac5e44a9fc9241193af38b68a7fcc&amp;chksm=f3903d7cc4e7b46a29a9ce061ead170b494268eca258aa4d51cdfae378474f0355fb9a881fe6&amp;scene=21#wechat_redirect" data-itemshowtype="0" tab="innerlink" data-linktype="2">数据仓库的前世今生</a>》</p><section data-mpa-template="t" mpa-from-tpl="t" style=""><p style="color: black;font-size: 16px;"><br mpa-from-tpl="t"  /></p><section data-mpa-template="t" mpa-from-tpl="t" style=""><section data-role="outer" style="" mpa-from-tpl="t"><section data-id="86134" style="border-width: 0px;border-style: none;border-color: initial;" mpa-from-tpl="t"><section style="text-align: center;" mpa-from-tpl="t"><section style="color: black;font-size: 16px;background-color: rgb(254, 254, 254);padding-right: 10px;padding-left: 10px;display: inline-block;" mpa-from-tpl="t"><span style="font-size: 28px;"><strong mpa-from-tpl="t"><span style="color: rgb(69, 30, 232);">2<br  /></span></strong></span> </section><section style="color: black;font-size: 16px;margin-top: -1.2em;margin-bottom: 0.65em;" mpa-from-tpl="t"><section style="border-top: 1px solid rgb(32, 32, 236);border-right-color: rgb(32, 32, 236);border-bottom-color: rgb(32, 32, 236);border-left-color: rgb(32, 32, 236);width: 60px;margin-right: auto;margin-left: auto;" data-width="20%" mpa-from-tpl="t"><br mpa-from-tpl="t"  /> </section></section><p style=""><span style="color:#2323e6;"><span style="font-size: 20px;">传统数据仓库开发</span></span></p></section></section></section></section></section><p style="color: black;font-size: 16px;"><br mpa-from-tpl="t"  /></p><figure data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><img class="rich_pages wxw-img" data-ratio="0.5790229885057471" data-type="png" data-w="1392" style="display: block;margin-right: auto;margin-left: auto;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic80ogibvIEpAm3ticbVRQYew0YQOGqLwiaNnWYVb76kOXtqQAib9aVgJV1z9da1RJPbI8OUbABXafuGcA/640?wx_fmt=png"  /></figure><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">传统的数据仓库用Oracle的居多，多半是单机或者一个双机环境运行。本身硬件，系统都容易形成单点故障。慢慢发展，应该会开始通过存储形成容灾的一个环境。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">我了解的传统的数据开发一般分为3个岗位：<span style="color: rgb(0, 82, 255);">数据工程师、ETL工程师、数据仓库架构师</span>，大多数人属于前两者。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><strong><span style="color: rgb(0, 82, 255);">数据工程师：</span></strong>根据业务人员提交的逻辑来编写“存储过程”，他们能够很轻松的编写上千行的复杂逻辑SQL。在编写SQL多年经验中，掌握了各种关联查询、聚合查询、窗口函数，甚至还可以用SQL自己编写一些Function，最终组合成了存储过程。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><strong><span style="color: rgb(0, 82, 255);">ETL工程师：</span></strong>传统数据仓库只有在大型企业中一般才会有，比如电信、银行、保险等行业。他们都会采购一些ETL工具，比如Informatica或者和第三方共建ETL工具，比如和华为、亚信等。这些ETL工具功能非常强大。ETL工程师可以通过在平台上拖拉拽的形式进行数据加工处理，同时ETL平台的组件还可以支撑一些脚本的上传，所以ETL工程师结合数据工程师开发的复杂存储过程，在平台上进行加工设计，最终形成一个个定时任务。然后他们还负责每天监控这些定时任务的状态，对于重要部门的ETL人员还经常会熬夜值班监控。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><strong><span style="color: rgb(0, 82, 255);">数据仓库架构师：</span></strong>数据仓库是依靠规范来有序进行的，架构师就是来建立这些规范的，包括数据仓库的分层、模型命名、指标命名、ETL任务命名、ETL任务编排规范、存储过程开发规范等等，最终形成《XX数据仓库建设规范》，然后数据工程师和ETL工程师按照规范进行任务开发。如果遇到重大业务变更，比如主数据变更，需要和数据仓库架构师评审后修改完善。</p><section data-mpa-template="t" mpa-from-tpl="t"><p><br mpa-from-tpl="t"  /></p><section data-mpa-template="t" mpa-from-tpl="t"><section data-role="outer" style="" mpa-from-tpl="t"><section data-id="86134" style="border-width: 0px;border-style: none;border-color: initial;" mpa-from-tpl="t"><section style="text-align: center;" mpa-from-tpl="t"><section style="font-size: 16px;background-color: rgb(254, 254, 254);padding-right: 10px;padding-left: 10px;display: inline-block;" mpa-from-tpl="t"><span style="font-size: 28px;"><strong mpa-from-tpl="t"><span style="color: rgb(69, 30, 232);">3<br  /></span></strong></span> </section><section style="font-size: 16px;margin-top: -1.2em;margin-bottom: 0.65em;" mpa-from-tpl="t"><section style="border-top: 1px solid rgb(32, 32, 236);border-right-color: rgb(32, 32, 236);border-bottom-color: rgb(32, 32, 236);border-left-color: rgb(32, 32, 236);width: 60px;margin-right: auto;margin-left: auto;" data-width="20%" mpa-from-tpl="t"><br mpa-from-tpl="t"  /> </section></section><p style=""><span style="color:#2323e6;"><span style="font-size: 20px;">大数据开发</span></span></p></section></section></section></section></section><p><br mpa-from-tpl="t"  /></p><figure data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><br  /><img data-ratio="0.6027777777777777" data-type="png" data-w="1080" style="display: block;margin-right: auto;margin-left: auto;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMic80ogibvIEpAm3ticbVRQYew0kXsY97oaS8KGiaYY6x7kKMwyeklRKJrCYU5kSm6ThjbfklgUbdWdqKg/640?wx_fmt=png"  /><br  /></figure><figure data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><br  /></figure><figure data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><br  /></figure><figure data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><br  /></figure><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">现在的大数据架构多了一些东西，比如数据采集Flume、消息对垒kafka、计算引擎MR、Spark以及实时计算框架，这些都是以前传统数据仓库架构下没有的。</p><h4 data-tool="mdnice编辑器" style="color: black;font-size: 18px;margin-top: 30px;margin-bottom: 15px;font-weight: bold;"><span style="color: rgb(0, 82, 255);">Flume</span></h4><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">Flume是一种分布式、高可靠和高可用的服务，用于高效地收集、聚合和移动大量日志数据。它有一个简单而灵活的基于流数据流的体系结构。它具有可调的可靠性机制、故障转移和恢复机制，具有强大的容错能力。它使用一个简单的可扩展数据模型，允许在线分析应用程序。Flume的设计宗旨是向Hadoop集群批量导入基于事件的海量数据。系统中最核心的角色是agent，Flume采集系统就是由一个个agent所连接起来形成。每一个agent相当于一个数据传递员，内部有三个组件：</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><span style="color: rgb(0, 82, 255);">source: </span>采集源，用于跟数据源对接，以获取数据</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><span style="color: rgb(0, 82, 255);">sink：</span>传送数据的目的地，用于往下一级agent或者最终存储系统传递数据</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><span style="color: rgb(0, 82, 255);">channel：</span>agent内部的数据传输通道，用于从source传输数据到sink</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">详细配置参考：《<a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI4MzE4MjQxOQ==&amp;mid=2649359245&amp;idx=1&amp;sn=2320034d5c92eccc85a2d5def414528c&amp;chksm=f39037b1c4e7bea7b39e9e1a74b42a1a92c09e901ee18ab6297b49e50741827555decec0e819&amp;scene=21#wechat_redirect" data-itemshowtype="0" tab="innerlink" data-linktype="2">日志收集组件—Flume、Logstash、Filebeat对比</a>》</p><h4 data-tool="mdnice编辑器" style="color: black;font-size: 18px;margin-top: 30px;margin-bottom: 15px;font-weight: bold;"><span style="color: rgb(0, 82, 255);">kafka</span></h4><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">Kafka是最初由Linkedin公司开发，是一个分布式、分区的、多副本的、多订阅者，基于zookeeper协调的分布式日志系统（也可以当做MQ系统），常见可以用于web/nginx日志、访问日志，消息服务等等，Linkedin于2010年贡献给了Apache基金会并成为顶级开源项目。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">主要应用场景是：日志收集系统和消息系统。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">Kafka主要设计目标如下：</p><ul data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 8px;margin-bottom: 8px;padding-left: 25px;" class="list-paddingleft-2"><li><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);">提供消息持久化能力，即使对TB级以上数据也能保证常数时间的访问性能。</section></li><li><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);">高吞吐率。即使在非常廉价的商用机器上也能做到单机支持每秒100K条消息的传输。</section></li><li><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);">支持Kafka Server间的消息分区，及分布式消费，同时保证每个partition内的消息顺序传输。</section></li><li><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);">同时支持离线数据处理和实时数据处理。</section></li><li><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);">Scale out:支持在线水平扩展</section></li></ul><h4 data-tool="mdnice编辑器" style="color: black;font-size: 18px;margin-top: 30px;margin-bottom: 15px;font-weight: bold;"><span style="color: rgb(0, 82, 255);">大数据计算引擎</span></h4><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">近几年出现了很多热门的开源社区，其中著名的有 Hadoop、Storm，以及后来的Spark、Flink，他们都有着各自专注的应用场景。Spark掀开了内存计算的先河，也以内存为赌注，赢得了内存计算的飞速发展。Spark的火热或多或少的掩盖了其他分布式计算的系统身影。不过目前Flink在阿里的力推之下，也逐渐占领着实时处理的市场。其实大数据的计算引擎分成了三代：</p><ul data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 8px;margin-bottom: 8px;padding-left: 25px;" class="list-paddingleft-2"><li style="color: rgb(0, 82, 255);"><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);"><span style="color: rgb(0, 82, 255);">第一代计算引擎</span></section></li></ul><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">无疑就是Hadoop承载的 MapReduce。这里大家应该都不会对MapReduce陌生，它将计算分为两个阶段，分别为 Map 和 Reduce。对于上层应用来说，就不得不想方设法去拆分算法，甚至于不得不在上层应用实现多个 Job 的串联，以完成一个完整的算法，例如迭代计算。MR每次计算都会和HDFS交互，和磁盘交互意味着产生更多的IO，也就会更慢。由于这样的弊端，催生了支持 DAG 框架和基于内存计算的产生。</p><ul data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 8px;margin-bottom: 8px;padding-left: 25px;" class="list-paddingleft-2"><li style="color: rgb(0, 82, 255);"><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);"><span style="color: rgb(0, 82, 255);">第二代计算引擎</span></section></li></ul><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">Spark的特点主要是 Job 内部的 DAG 支持（不跨越 Job），同时支持基于内存的计算。这样的话每次计算到中间步报错了，就不会再从头开始计算一遍，而是接着上一个成功的状态，同时中间计算结果数据也可以放在内存中，大大提高了计算速度。另外，Spark还支持了实时计算，满足了大家维护一套集群，既可以搞离线计算也可以搞实时计算。</p><ul data-tool="mdnice编辑器" style="color: black;font-size: 16px;margin-top: 8px;margin-bottom: 8px;padding-left: 25px;" class="list-paddingleft-2"><li style="color: rgb(0, 82, 255);"><section style="margin-top: 5px;margin-bottom: 5px;line-height: 26px;color: rgb(1, 1, 1);"><span style="color: rgb(0, 82, 255);">第三代计算引擎</span></section></li></ul><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">促进了上层应用快速发展，例如各种迭代计算的性能以及对流计算和 SQL 等的支持。Flink开始崭露头角。这应该主要表现在 Flink 对流计算的支持，以及更一步的实时性上面。当然 Flink 也可以支持 Batch 的任务，以及 DAG 的运算。</p><figure data-tool="mdnice编辑器" style="margin-top: 10px;margin-bottom: 10px;display: flex;flex-direction: column;justify-content: center;align-items: center;"><span style="color: black;font-size: 16px;letter-spacing: 0px;"><br  /></span><section data-mpa-template="t" mpa-from-tpl="t" style=""><section data-mpa-template="t" mpa-from-tpl="t" style=""><section data-role="outer" style="" mpa-from-tpl="t"><section data-id="86134" style="border-width: 0px;border-style: none;border-color: initial;" mpa-from-tpl="t"><section style="text-align: center;" mpa-from-tpl="t"><section style="color: black;font-size: 16px;background-color: rgb(254, 254, 254);padding-right: 10px;padding-left: 10px;display: inline-block;" mpa-from-tpl="t"><span style="font-size: 28px;"><strong mpa-from-tpl="t"><span style="color: rgb(69, 30, 232);">4<br  /></span></strong></span> </section><section style="color: black;font-size: 16px;margin-top: -1.2em;margin-bottom: 0.65em;" mpa-from-tpl="t"><section style="border-top: 1px solid rgb(32, 32, 236);border-right-color: rgb(32, 32, 236);border-bottom-color: rgb(32, 32, 236);border-left-color: rgb(32, 32, 236);width: 60px;margin-right: auto;margin-left: auto;" data-width="20%" mpa-from-tpl="t"><br mpa-from-tpl="t"  /> </section></section><p style=""><span style="color:#2323e6;"><span style="font-size: 20px;">转型</span></span></p></section></section></section></section></section><p style="color: black;font-size: 16px;"><br mpa-from-tpl="t"  /></p><span style="color: black;font-size: 16px;letter-spacing: 0px;">有了传统数据仓库转型大数据是一个好的开端，但是路并不会那么顺利，也许并没有你想想的那么快速。<br  /></span><span style="color: black;font-size: 16px;letter-spacing: 0px;">从身边的同事来看，大家都是经历了很多项目经验之后，才真正转型成功的。</span></figure><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">首先，作为传统的数据仓库工程师，你已经对SQL掌握的非常熟练，这是你的优势。可以看到，现在所有的大数据计算引擎都在支持着SQL，从最早的Hive到现在的Flink。他们大多和标准SQL语法近似，很快能够快速掌握，现在很多离线数据仓库还是建立在Hive之上，从这一点上，你能很快开发HiveSQL脚本。你可以把之前数据仓库架构的那一套方法论拿过啦借鉴，数据仓库这东西建了几十年，还是最初的那几套方法，足够了。只是你会遇到很大的数据量问题，要根据实际情况进行合理的分层，合理的使用临时表。但是，既然你选择了转型，相信你并不只是满足换个环境写SQL吧。所以你要学习Hadoop、学习Spark，身边曾有一个同事从传统数仓转大数据后，就是换个环境写SQL，写了两年了还不知道HDFS常用命令，不知道Spark的计算原理，每次SQL调优的时候，都去问平台开发的同事，怎么修改参数。所以趁着你还在转型的兴头上，学一下这方面的知识。如果之前没有java开发经验，那不建议你学习MR，直接上手Spark吧，python也很好用的，使用pyspark能够解决很多SQL解决不了的问题。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">另外，学一学kafka吧，离线数仓搞完了，不想搞实时数仓吗？现在物联网行业，每天有几亿数据上传到平台，每条消息有几千个字段，我们无法选择传统的数据库进行存储。网关直接转发数据到kafka，然后存储到HDFS和HBase。其他行业也一样，电商。搜索，每天那么多人访问，访问数据也都是消息缓存的方式发送到HDFS落地分析的。</p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><br mpa-from-tpl="t"  /></p><section data-mpa-template="t" mpa-from-tpl="t"><section data-id="89429" style="border-width: 0px;border-style: none;border-color: initial;" mpa-from-tpl="t"><section style="text-align: center;height: 50px;" mpa-from-tpl="t"><section mpa-from-tpl="t" style="width: 48px;height: 48px;color: rgb(255, 255, 255);font-size: 16px;line-height: 48px;display: inline-block;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_gif/kiaqiahsnxHd4Zt4378tqib1DnnfKYvZAI7sUNZCYmGN2HCMDFDYV5hLu6HrHIK5BynAAwgHGiafFFU7ibYez6mXL4w/640?wx_fmt=gif&quot;);background-repeat: no-repeat;background-size: 100%;background-position: 0px center;margin-right: auto;margin-left: auto;"><p style="font-weight: bold;"><span style="font-size: 14px;">end</span></p></section><section style="height:2px;background-color:#222121;margin-top:-26px;" mpa-from-tpl="t"><br  /></section></section></section></section><p><br mpa-from-tpl="t"  /></p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;">最后，推荐两本书吧，帮助你快速转型成功——<span style="letter-spacing: 0px;">《</span><span style="letter-spacing: 0px;">阿里大数据之路》、《大数据日知录》 ，</span><span style="letter-spacing: 0px;">后台回复【</span><strong style="letter-spacing: 0px;"><span style="color: rgb(0, 82, 255);">转型</span></strong><span style="letter-spacing: 0px;">】下载！</span></p><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><span style="letter-spacing: 0px;"></span></p><section class="mp_profile_iframe_wrp"><mpprofile class="js_uneditable custom_select_card mp_profile_iframe" data-pluginname="mpprofile" data-id="MzI4MzE4MjQxOQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMicibStrZbEKicUIkEia0iaUrqcr4dq64JSoTr0gAkQE7QESQcYrsNqGvdQWrNUZKUz9zjO2WxEAKD5J5GQ/0?wx_fmt=png" data-nickname="数据社" data-alias="DataClub" data-signature="现任某500强头部企业大数据分析负责人，中国DBA联盟成员，主要分享大数据实践的那些事，个人专注数据仓库架构，数据分析，MPP数据库研究、流处理计算等领域~" data-from="0"></mpprofile></section><p data-tool="mdnice编辑器" style="color: black;font-size: 16px;padding-top: 8px;padding-bottom: 8px;line-height: 26px;"><span style="background-color: rgb(255, 255, 255);letter-spacing: 0px;word-spacing: 2px;">欢迎大家加我微信好友，交个朋友，有需要的可以拉你进大数据、数仓交流群!</span></p><p style="max-width: 100%;min-height: 1em;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;font-size: 16px;white-space: normal;text-align: center;overflow-wrap: break-word !important;box-sizing: border-box !important;"><img class="rich_pages wxw-img" data-ratio="0.98125" data-s="300,640" data-type="png" data-w="320" style="width: 148px;overflow-wrap: break-word !important;height: auto !important;" src="https://mmbiz.qpic.cn/mmbiz_png/z2DApiaibzMicicdgom68IKhbABvo81oQJ70pzEewwUJTFFd2hS7PqDeiaZrticGr38p3ia7GmtgGH24iaaJU7EX7avHcg/640?wx_fmt=png"  /></p></section></section><div class="msg_source_url"><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2071950776880381955#wechat_redirect" target="_blank">阅读原文</a></div></content><div class="msg_source_url"><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA3NjIzNjMwOA==&action=getalbum&album_id=2071950776880381955#wechat_redirect" target="_blank">阅读原文</a></div>
</div>
</body>
</html>